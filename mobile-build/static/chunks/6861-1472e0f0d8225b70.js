"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6861],{1451:(e,t,s)=>{s.d(t,{Zn:()=>r});var a=s(95155);function r(e){let{className:t="",size:s="md",showText:r=!0,variant:l="horizontal"}=e,i={sm:{text:"text-sm"},md:{text:"text-lg"},lg:{text:"text-xl"},xl:{text:"text-2xl"}}[s];return"horizontal"===l?(0,a.jsx)("div",{className:"flex items-center ".concat(t),children:r&&(0,a.jsxs)("div",{className:"".concat(i.text," leading-none"),children:[(0,a.jsx)("span",{className:"font-bold text-[#1A237E] tracking-tight",children:"Path"}),(0,a.jsx)("span",{className:"font-normal text-[#546E7A]",children:"Niti"})]})}):(0,a.jsx)("div",{className:"flex flex-col items-center ".concat(t),children:r&&(0,a.jsxs)("div",{className:"".concat(i.text," leading-none"),children:[(0,a.jsx)("span",{className:"font-bold text-[#1A237E] tracking-tight",children:"Path"}),(0,a.jsx)("span",{className:"font-normal text-[#546E7A]",children:"Niti"})]})})}s(12115)},66861:(e,t,s)=>{s.d(t,{DynamicHeader:()=>w});var a=s(95155),r=s(12115),l=s(52619),i=s.n(l),n=s(47061),o=s(1451),c=s(3998),d=s(65993),m=s(47937),h=s(89442),x=s(21873),u=s(5937),g=s(86651),p=s(85998),f=s(65229),v=s(24033),b=s(20508),j=s(15870),N=s(84926),y=s(9540);function w(e){var t,s;let{showNavigation:l=!0,showUserActions:w=!0,className:k=""}=e,{user:A,profile:C,signOut:_}=(0,n.A)(),[E,S]=(0,r.useState)(!1),[z,$]=(0,r.useState)(!1),[L,D]=(0,r.useState)(!1),[I,O]=(0,r.useState)([]),[H,P]=(0,r.useState)(0),T=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[a,l]=(0,r.useState)(e);return!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{throttle:s=16,passive:a=!0}=t,l=(0,r.useRef)(!1),i=(0,r.useRef)(0),n=(0,r.useCallback)(()=>{let t=Date.now();!l.current&&t-i.current>=s&&(requestAnimationFrame(()=>{e(window.scrollY),l.current=!1,i.current=t}),l.current=!0)},[e,s]);(0,r.useEffect)(()=>(window.addEventListener("scroll",n,{passive:a}),()=>window.removeEventListener("scroll",n)),[n,a])}((0,r.useCallback)(e=>{l(s=>t(e,s))},[t]),s),a}(0,e=>e,e)}(),U=(0,r.useCallback)(async()=>{try{let e=await fetch("/api/student/notifications?userId=".concat(null==A?void 0:A.id));if(e.ok){let t=await e.json();O(t.notifications||[]),P(t.unreadCount||0)}}catch(e){console.error("Error fetching notifications:",e)}},[null==A?void 0:A.id]);(0,r.useEffect)(()=>{(null==A?void 0:A.id)&&U()},[null==A?void 0:A.id,U]);let G=async()=>{try{(await fetch("/api/student/notifications/mark-all-read",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:null==A?void 0:A.id})})).ok&&(P(0),O(e=>e.map(e=>({...e,is_read:!0}))))}catch(e){console.error("Error marking notifications as read:",e)}};(0,r.useEffect)(()=>{let e=e=>{let t=e.target;z&&!t.closest(".user-dropdown-container")&&$(!1),L&&!t.closest(".notifications-container")&&D(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[z,L]);let R=async()=>{try{let{error:e}=await _();if(e)return void console.error("Error signing out:",e);$(!1),window.location.href="/"}catch(e){console.error("Error signing out:",e)}};return(0,a.jsx)("header",{className:"bg-white/95 backdrop-blur-md border-b border-gray-200/50 shadow-sm sticky top-0 z-50 transition-all duration-300 ".concat(T>10?"shadow-lg bg-white/98":""," ").concat(k),children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,a.jsx)(i(),{href:"/",className:"hover:opacity-80 transition-all duration-300 hover:scale-105",children:(0,a.jsx)(o.Zn,{size:"md",showText:!0,variant:"horizontal"})}),l&&(0,a.jsxs)("nav",{className:"hidden md:flex items-center space-x-1",children:[(0,a.jsxs)(i(),{href:"/",className:"px-3 py-2 text-gray-600 hover:text-primary hover:bg-gray-100/60 rounded-lg transition-all duration-200 flex items-center gap-2 font-medium relative group",children:[(0,a.jsx)(d.A,{className:"w-4 h-4"}),"Home",(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"})]}),(0,a.jsxs)(i(),{href:"/comprehensive-assessment",className:"px-3 py-2 text-gray-600 hover:text-primary hover:bg-gray-100/60 rounded-lg transition-all duration-200 flex items-center gap-2 font-medium relative group",children:[(0,a.jsx)(m.A,{className:"w-4 h-4"}),"Assessment",(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"})]}),(0,a.jsxs)(i(),{href:"/colleges",className:"px-3 py-2 text-gray-600 hover:text-primary hover:bg-gray-100/60 rounded-lg transition-all duration-200 flex items-center gap-2 font-medium relative group",children:[(0,a.jsx)(h.A,{className:"w-4 h-4"}),"Colleges",(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"})]}),(0,a.jsxs)(i(),{href:"/scholarships",className:"px-3 py-2 text-gray-600 hover:text-primary hover:bg-gray-100/60 rounded-lg transition-all duration-200 flex items-center gap-2 font-medium relative group",children:[(0,a.jsx)(x.A,{className:"w-4 h-4"}),"Scholarships",(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"})]}),(0,a.jsxs)(i(),{href:"/chat",className:"px-3 py-2 text-gray-600 hover:text-primary hover:bg-gray-100/60 rounded-lg transition-all duration-200 flex items-center gap-2 font-medium relative group",children:[(0,a.jsx)(u.A,{className:"w-4 h-4"}),"AI Chat",(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"})]})]})]}),w&&(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)(c.$,{variant:"ghost",size:"sm",className:"hidden sm:flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[(0,a.jsx)(g.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"hidden lg:inline",children:"Search"})]}),A?(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"relative notifications-container",children:[(0,a.jsxs)(c.$,{variant:"ghost",size:"sm",className:"relative",onClick:()=>D(!L),children:[(0,a.jsx)(p.A,{className:"w-4 h-4"}),H>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full"})]}),L&&(0,a.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-lg shadow-lg border z-50",children:[(0,a.jsx)("div",{className:"p-4 border-b",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Notifications"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[H>0&&(0,a.jsx)(c.$,{size:"sm",variant:"outline",onClick:G,children:"Mark all read"}),(0,a.jsx)(c.$,{size:"sm",variant:"outline",onClick:()=>D(!1),children:(0,a.jsx)(f.A,{className:"h-4 w-4"})})]})]})}),(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto",children:0===I.length?(0,a.jsx)("div",{className:"p-4 text-center text-gray-500",children:"No notifications yet"}):I.slice(0,5).map(e=>(0,a.jsx)("div",{className:"p-4 border-b hover:bg-gray-50 cursor-pointer ".concat(e.is_read?"":"bg-blue-50"),children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full mt-2 ".concat(e.is_read?"bg-gray-300":"bg-blue-500")}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.message}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:new Date(e.created_at).toLocaleDateString()})]})]})},e.id))}),I.length>5&&(0,a.jsx)("div",{className:"p-4 border-t",children:(0,a.jsx)(c.$,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:(0,a.jsx)(i(),{href:"/dashboard",children:"View all notifications"})})})]})]}),(0,a.jsxs)("div",{className:"relative user-dropdown-container",children:[(0,a.jsxs)(c.$,{variant:"ghost",size:"sm",onClick:()=>$(!z),className:"flex items-center gap-2 hover:bg-gray-100/60",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-medium",children:(null==(t=(null==C?void 0:C.first_name)||(null==C?void 0:C.last_name))?void 0:t.charAt(0))||(null==(s=A.email)?void 0:s.charAt(0))||"U"}),(0,a.jsx)("span",{className:"hidden sm:inline text-sm font-medium text-gray-700",children:(null==C?void 0:C.first_name)&&(null==C?void 0:C.last_name)?"".concat(C.first_name," ").concat(C.last_name):(null==C?void 0:C.first_name)||(null==C?void 0:C.last_name)||"User"}),(0,a.jsx)(v.A,{className:"w-4 h-4 text-gray-500"})]}),z&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[(0,a.jsxs)("div",{className:"px-4 py-2 border-b border-gray-100",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:(null==C?void 0:C.first_name)&&(null==C?void 0:C.last_name)?"".concat(C.first_name," ").concat(C.last_name):(null==C?void 0:C.first_name)||(null==C?void 0:C.last_name)||"User"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:A.email})]}),(0,a.jsxs)(i(),{href:(null==C?void 0:C.role)==="admin"?"/dashboard/admin":(null==C?void 0:C.role)==="college"?"/dashboard/college":"/dashboard/student",className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>$(!1),children:[(0,a.jsx)(b.A,{className:"w-4 h-4"}),"Dashboard"]}),(0,a.jsxs)(i(),{href:"/settings",className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>$(!1),children:[(0,a.jsx)(j.A,{className:"w-4 h-4"}),"Settings"]}),(0,a.jsx)("hr",{className:"my-2"}),(0,a.jsxs)("button",{onClick:R,className:"flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors w-full text-left",children:[(0,a.jsx)(N.A,{className:"w-4 h-4"}),"Sign Out"]})]})]})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(c.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,a.jsx)(i(),{href:"/auth/login",className:"flex items-center gap-2 font-medium",children:"Login"})}),(0,a.jsx)(c.$,{size:"sm",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-md hover:shadow-lg transition-all duration-200",asChild:!0,children:(0,a.jsx)(i(),{href:"/auth/signup",className:"flex items-center gap-2 font-medium",children:"Get Started"})})]}),(0,a.jsx)("button",{className:"md:hidden p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100/60 transition-all duration-200",onClick:()=>S(!E),children:E?(0,a.jsx)(f.A,{className:"w-5 h-5"}):(0,a.jsx)(y.A,{className:"w-5 h-5"})})]})]}),E&&l&&(0,a.jsx)("div",{className:"md:hidden border-t border-gray-200/50 bg-white/95 backdrop-blur-md animate-slide-in-from-top",children:(0,a.jsxs)("nav",{className:"px-4 py-4 space-y-1",children:[(0,a.jsxs)(i(),{href:"/",className:"block px-4 py-3 text-gray-600 hover:text-primary hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 rounded-lg transition-all duration-200 flex items-center gap-3 font-medium",onClick:()=>S(!1),children:[(0,a.jsx)(d.A,{className:"w-5 h-5"}),"Home"]}),(0,a.jsxs)(i(),{href:"/comprehensive-assessment",className:"block px-4 py-3 text-gray-600 hover:text-primary hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 rounded-lg transition-all duration-200 flex items-center gap-3 font-medium",onClick:()=>S(!1),children:[(0,a.jsx)(m.A,{className:"w-5 h-5"}),"Assessment"]}),(0,a.jsxs)(i(),{href:"/colleges",className:"block px-4 py-3 text-gray-600 hover:text-primary hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 rounded-lg transition-all duration-200 flex items-center gap-3 font-medium",onClick:()=>S(!1),children:[(0,a.jsx)(h.A,{className:"w-5 h-5"}),"Colleges"]}),(0,a.jsxs)(i(),{href:"/scholarships",className:"block px-4 py-3 text-gray-600 hover:text-primary hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 rounded-lg transition-all duration-200 flex items-center gap-3 font-medium",onClick:()=>S(!1),children:[(0,a.jsx)(x.A,{className:"w-5 h-5"}),"Scholarships"]}),(0,a.jsxs)(i(),{href:"/chat",className:"block px-4 py-3 text-gray-600 hover:text-primary hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 rounded-lg transition-all duration-200 flex items-center gap-3 font-medium",onClick:()=>S(!1),children:[(0,a.jsx)(u.A,{className:"w-5 h-5"}),"AI Chat"]}),A?(0,a.jsxs)("div",{className:"pt-4 mt-4 border-t border-gray-200/50 space-y-1",children:[(0,a.jsxs)(i(),{href:"/dashboard/student",className:"block px-4 py-3 text-gray-600 hover:text-primary hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 rounded-lg transition-all duration-200 flex items-center gap-3 font-medium",onClick:()=>S(!1),children:[(0,a.jsx)(b.A,{className:"w-5 h-5"}),"Dashboard"]}),(0,a.jsxs)("button",{onClick:R,className:"w-full text-left px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200 flex items-center gap-3 font-medium",children:[(0,a.jsx)(N.A,{className:"w-5 h-5"}),"Sign Out"]})]}):(0,a.jsxs)("div",{className:"pt-4 mt-4 border-t border-gray-200/50 space-y-2",children:[(0,a.jsx)(i(),{href:"/auth/login",className:"block px-4 py-3 text-center text-gray-600 hover:text-primary hover:bg-gray-50 rounded-lg transition-all duration-200 font-medium",onClick:()=>S(!1),children:"Login"}),(0,a.jsx)(i(),{href:"/auth/signup",className:"block px-4 py-3 text-center bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-200 font-medium shadow-md",onClick:()=>S(!1),children:"Get Started"})]})]})})]})})}}}]);