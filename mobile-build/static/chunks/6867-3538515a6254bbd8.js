"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6867],{11186:(e,t,s)=>{s.d(t,{Select:()=>o,SelectContent:()=>p,SelectGroup:()=>u,SelectItem:()=>g,SelectLabel:()=>j,SelectScrollDownButton:()=>f,SelectScrollUpButton:()=>x,SelectSeparator:()=>N,SelectTrigger:()=>h,SelectValue:()=>m});var a=s(95155),n=s(12115),r=s(85824),i=s(24033),l=s(12108),c=s(5917),d=s(64269);let o=r.bL,u=r.YJ,m=r.WT,h=n.forwardRef((e,t)=>{let{className:s,children:n,...l}=e;return(0,a.jsxs)(r.l9,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...l,children:[n,(0,a.jsx)(r.In,{asChild:!0,children:(0,a.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});h.displayName=r.l9.displayName;let x=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...n,children:(0,a.jsx)(l.A,{className:"h-4 w-4"})})});x.displayName=r.PP.displayName;let f=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...n,children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})});f.displayName=r.wn.displayName;let p=n.forwardRef((e,t)=>{let{className:s,children:n,position:i="popper",...l}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsxs)(r.UC,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...l,children:[(0,a.jsx)(x,{}),(0,a.jsx)(r.LM,{className:(0,d.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,a.jsx)(f,{})]})})});p.displayName=r.UC.displayName;let j=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.JU,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...n})});j.displayName=r.JU.displayName;let g=n.forwardRef((e,t)=>{let{className:s,children:n,...i}=e;return(0,a.jsxs)(r.q7,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(r.VF,{children:(0,a.jsx)(c.A,{className:"h-4 w-4"})})}),(0,a.jsx)(r.p4,{children:n})]})});g.displayName=r.q7.displayName;let N=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",s),...n})});N.displayName=r.wv.displayName},20243:(e,t,s)=>{s.d(t,{E:()=>r});var a=s(95155),n=s(64269);function r(e){let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("animate-pulse rounded-md bg-muted",t),...s})}},48732:(e,t,s)=>{s.d(t,{AuthGate:()=>d,AuthLoadingSpinner:()=>l,AuthPageLoading:()=>c,AuthStatusIndicator:()=>i});var a=s(95155);s(12115);var n=s(47061),r=s(11647);function i(e){let{showRole:t=!0,showEmail:s=!1,className:i=""}=e,{user:l,profile:c,loading:d}=(0,n.A)();return d?(0,a.jsx)("div",{className:"flex items-center space-x-2 ".concat(i),children:(0,a.jsx)("div",{className:"animate-pulse",children:(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-20"})})}):l&&c?(0,a.jsxs)("div",{className:"flex items-center space-x-2 ".concat(i),children:[(0,a.jsx)(r.E,{variant:"default",children:"Authenticated"}),t&&c.role&&(0,a.jsx)(r.E,{variant:"outline",className:"capitalize",children:c.role}),s&&l.email&&(0,a.jsx)("span",{className:"text-sm text-gray-600",children:l.email})]}):(0,a.jsx)("div",{className:"flex items-center space-x-2 ".concat(i),children:(0,a.jsx)(r.E,{variant:"secondary",children:"Not Authenticated"})})}function l(e){let{size:t="default"}=e;return(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full border-b-2 border-gray-900 ".concat({sm:"h-4 w-4",default:"h-8 w-8",lg:"h-12 w-12"}[t])})})}function c(){return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(l,{size:"lg"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Checking authentication..."})]})})}function d(e){let{children:t,fallback:s,loadingFallback:r,requireRole:i}=e,{user:c,profile:d,loading:o,hasRole:u}=(0,n.A)();return o?r||(0,a.jsx)(l,{}):c&&d?i&&!u(i)?s||(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-gray-600",children:"You don't have permission to view this content."})}):(0,a.jsx)(a.Fragment,{children:t}):s||(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-gray-600",children:"Please log in to view this content."})})}},50909:(e,t,s)=>{s.d(t,{RadioGroup:()=>c,RadioGroupItem:()=>d});var a=s(95155),n=s(12115),r=s(24058),i=s(99051),l=s(64269);let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.bL,{className:(0,l.cn)("grid gap-2",s),...n,ref:t})});c.displayName=r.bL.displayName;let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.q7,{ref:t,className:(0,l.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...n,children:(0,a.jsx)(r.C1,{className:"flex items-center justify-center",children:(0,a.jsx)(i.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});d.displayName=r.q7.displayName},51997:(e,t,s)=>{s.d(t,{AuthButtonLoading:()=>u,AuthInitialLoading:()=>l,AuthInlineLoading:()=>o,AuthLoading:()=>i,AuthProfileLoading:()=>d,AuthSessionLoading:()=>c});var a=s(95155);s(12115);var n=s(86948),r=s(20243);function i(e){let{variant:t="spinner",size:s="md",message:i="Checking authentication...",showMessage:l=!0}=e,c={sm:"h-8 w-8",md:"h-12 w-12",lg:"h-16 w-16",full:"min-h-screen"},d="full"===s?"min-h-screen flex items-center justify-center bg-gray-50":"flex items-center justify-center p-4";return"skeleton"===t?(0,a.jsx)("div",{className:d,children:(0,a.jsx)(n.Zp,{className:"w-full max-w-md",children:(0,a.jsxs)(n.Wu,{className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(r.E,{className:"h-12 w-12 rounded-full"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.E,{className:"h-4 w-[200px]"}),(0,a.jsx)(r.E,{className:"h-4 w-[150px]"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.E,{className:"h-4 w-full"}),(0,a.jsx)(r.E,{className:"h-4 w-full"}),(0,a.jsx)(r.E,{className:"h-4 w-3/4"})]})]})})}):"pulse"===t?(0,a.jsx)("div",{className:d,children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"".concat(c[s]," mx-auto mb-4 bg-blue-200 rounded-full animate-pulse")}),l&&(0,a.jsx)("p",{className:"text-gray-600 animate-pulse",children:i})]})}):"dots"===t?(0,a.jsx)("div",{className:d,children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"flex justify-center space-x-2 mb-4",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-bounce"}),(0,a.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,a.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),l&&(0,a.jsx)("p",{className:"text-gray-600",children:i})]})}):(0,a.jsx)("div",{className:d,children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"".concat(c[s]," mx-auto mb-4 border-4 border-gray-200 border-t-blue-500 rounded-full animate-spin")}),l&&(0,a.jsx)("p",{className:"text-gray-600",children:i})]})})}function l(){return(0,a.jsx)(i,{variant:"spinner",size:"full",message:"Initializing authentication..."})}function c(){return(0,a.jsx)(i,{variant:"dots",size:"md",message:"Verifying session..."})}function d(){return(0,a.jsx)(i,{variant:"pulse",size:"md",message:"Loading profile..."})}function o(e){let{message:t="Loading..."}=e;return(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-gray-200 border-t-blue-500 rounded-full animate-spin"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:t})]})}function u(e){let{message:t="Please wait..."}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{children:t})]})}},54351:(e,t,s)=>{s.d(t,{zK:()=>r});var a=s(12115),n=s(47061);function r(e){let{user:t,session:s,profile:r,loading:i,requireAuth:l,requireRole:c}=(0,n.A)(),{requireAuth:d=!0,requiredRole:o}=e||{};return(0,a.useEffect)(()=>{!i&&(d&&l(),o&&c(o))},[i,d,o,l,c]),{user:t,session:s,profile:r,loading:i,isAuthenticated:!i&&!!t&&!!s,hasProfile:!i&&!!r,isReady:!i&&!!t&&!!s&&!!r}}},65306:(e,t,s)=>{s.d(t,{AdminGuard:()=>c,AuthGuard:()=>l,CollegeGuard:()=>o,StudentGuard:()=>d});var a=s(95155),n=s(12115),r=s(47061),i=s(20063);function l(e){let{children:t,requireAuth:s=!0,requiredRole:l,fallback:c}=e,{user:d,session:o,profile:u,loading:m}=(0,r.A)(),h=(0,i.useRouter)(),[x,f]=(0,n.useState)(!0),[p,j]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{let e=setTimeout(async()=>{if(console.log("AuthGuard: Checking authentication state",{loading:m,hasUser:!!d,hasSession:!!o,hasProfile:!!u,requireAuth:s,requiredRole:l,userEmail:null==d?void 0:d.email,profileRole:null==u?void 0:u.role}),m){console.log("AuthGuard: Still loading, waiting..."),f(!0);return}if(!s){console.log("AuthGuard: No auth required, rendering children"),j(!0),f(!1);return}if(!d||!o){console.log("AuthGuard: User not authenticated, redirecting to login"),setTimeout(()=>{h.push("/auth/login")},100);return}if(!u){if(console.log("AuthGuard: User authenticated but no profile, redirecting to complete profile"),console.log("AuthGuard: User details:",{userId:d.id,userEmail:d.email}),console.log("AuthGuard: Profile state:",u),console.log("AuthGuard: Loading state:",m),"/auth/complete-profile"===window.location.pathname){console.log("AuthGuard: Already on complete profile page, allowing access"),j(!0),f(!1);return}setTimeout(()=>{h.push("/auth/complete-profile")},100);return}if(l&&u.role!==l){console.log("AuthGuard: User role '".concat(u.role,"' does not match required role '").concat(l,"'"));let e=(()=>{switch(u.role){case"admin":return"/dashboard/admin";case"college":return"/dashboard/college";default:return"/dashboard/student"}})();setTimeout(()=>{h.push(e)},100);return}console.log("AuthGuard: All checks passed, rendering children"),j(!0),f(!1)},500);return()=>clearTimeout(e)},[m,d,o,u,s,l,h]),x||m)?c||(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Verifying authentication..."})]})}):p?(0,a.jsx)(a.Fragment,{children:t}):null}function c(e){let{children:t,fallback:s}=e;return(0,a.jsx)(l,{requireAuth:!0,requiredRole:"admin",fallback:s,children:t})}function d(e){let{children:t,fallback:s}=e;return(0,a.jsx)(l,{requireAuth:!0,requiredRole:"student",fallback:s,children:t})}function o(e){let{children:t,fallback:s}=e;return(0,a.jsx)(l,{requireAuth:!0,requiredRole:"college",fallback:s,children:t})}},74277:(e,t,s)=>{s.d(t,{AuthDebugStatus:()=>g,AuthIndicator:()=>p,AuthPanel:()=>j,AuthStatus:()=>o});var a=s(95155);s(12115);var n=s(47061),r=s(11647),i=s(86948),l=s(3998),c=s(51997),d=s(85506);function o(e){let{variant:t="compact",showActions:s=!1,className:r=""}=e,{user:l,profile:o,loading:p}=(0,n.A)();return p?(0,a.jsx)("div",{className:r,children:(0,a.jsx)(c.AuthInlineLoading,{message:"Checking status..."})}):"card"===t?(0,a.jsxs)(i.Zp,{className:r,children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsxs)(i.ZB,{className:"flex items-center justify-between",children:["Authentication Status",(0,a.jsx)(u,{})]}),(0,a.jsx)(i.BT,{children:"Current authentication and profile information"})]}),(0,a.jsx)(i.Wu,{className:"space-y-4",children:l&&o?(0,a.jsx)(h,{showActions:s}):(0,a.jsx)(x,{showActions:s})})]}):"detailed"===t?(0,a.jsxs)("div",{className:"space-y-2 ".concat(r),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(u,{}),l&&o&&(0,a.jsx)("span",{className:"text-sm font-medium",children:(0,d.Nc)(o)})]}),l&&o?(0,a.jsx)(h,{showActions:s}):(0,a.jsx)(x,{showActions:s})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-2 ".concat(r),children:[(0,a.jsx)(u,{}),l&&o&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(m,{}),(0,a.jsx)("span",{className:"text-sm font-medium",children:(0,d.Nc)(o)})]}),s&&(0,a.jsx)(f,{})]})}function u(){let{user:e,profile:t,loading:s}=(0,n.A)();return s?(0,a.jsx)(r.E,{variant:"secondary",children:"Checking..."}):e?t?(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(r.E,{variant:"default",children:"Authenticated"}),(0,a.jsx)(r.E,{variant:"outline",className:"capitalize",children:t.role})]}):(0,a.jsx)(r.E,{variant:"outline",children:"Profile Incomplete"}):(0,a.jsx)(r.E,{variant:"destructive",children:"Not Authenticated"})}function m(){let{profile:e}=(0,n.A)(),t=(0,d.NQ)(e);return(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-medium",children:t})}function h(e){let{showActions:t}=e,{user:s,profile:r}=(0,n.A)();return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-500",children:"Email:"}),(0,a.jsx)("p",{className:"text-gray-900",children:null==s?void 0:s.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-500",children:"Role:"}),(0,a.jsx)("p",{className:"text-gray-900 capitalize",children:null==r?void 0:r.role})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-500",children:"Name:"}),(0,a.jsx)("p",{className:"text-gray-900",children:(0,d.Nc)(r)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-500",children:"Verified:"}),(0,a.jsx)("p",{className:"text-gray-900",children:(null==r?void 0:r.is_verified)?"Yes":"No"})]})]}),t&&(0,a.jsx)(f,{})]})}function x(e){let{showActions:t}=e;return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("p",{className:"text-gray-600",children:"You are not currently authenticated. Please log in to access your account."}),t&&(0,a.jsx)(f,{})]})}function f(){let{user:e,signOut:t}=(0,n.A)(),s=async()=>{try{await t(),window.location.href="/"}catch(e){console.error("Sign out error:",e)}};return e?(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(l.$,{size:"sm",variant:"outline",onClick:()=>{window.location.href="/dashboard"},children:"Dashboard"}),(0,a.jsx)(l.$,{size:"sm",variant:"outline",onClick:s,children:"Sign Out"})]}):(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(l.$,{size:"sm",onClick:()=>{window.location.href="/auth/login"},children:"Sign In"}),(0,a.jsx)(l.$,{size:"sm",variant:"outline",onClick:()=>window.location.href="/auth/signup",children:"Sign Up"})]})}function p(){return(0,a.jsx)(o,{variant:"compact"})}function j(){return(0,a.jsx)(o,{variant:"card",showActions:!0})}function g(){let{user:e,session:t,profile:s,loading:a}=(0,n.A)();return null}},74979:(e,t,s)=>{s.d(t,{withAdminAuth:()=>i,withAuth:()=>r,withCollegeAuth:()=>c,withStudentAuth:()=>l});var a=s(95155);s(12115);var n=s(54351);function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{requireAuth:s=!0,requiredRole:r,loadingComponent:i,fallbackComponent:l}=t,c=t=>{let{loading:c,isReady:d}=(0,n.zK)({requireAuth:s,requiredRole:r});return c?i?(0,a.jsx)(i,{}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})}):s&&!d?l?(0,a.jsx)(l,{}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Authentication Required"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Please log in to access this page."})]})}):(0,a.jsx)(e,{...t})};return c.displayName="withAuth(".concat(e.displayName||e.name,")"),c}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(e,{...t,requiredRole:"admin"})}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(e,{...t,requiredRole:"student"})}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(e,{...t,requiredRole:"college"})}},76444:(e,t,s)=>{s.d(t,{Label:()=>d});var a=s(95155),n=s(12115),r=s(10489),i=s(83101),l=s(64269);let c=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.b,{ref:t,className:(0,l.cn)(c(),s),...n})});d.displayName=r.b.displayName},85506:(e,t,s)=>{function a(e){if(!e)return"User";let t=e.first_name||"",s=e.last_name||"";return t&&s?"".concat(t," ").concat(s):t||s||e.email||"User"}function n(e){if(!e)return"U";let t=e.first_name||"",s=e.last_name||"";return t&&s?"".concat(t.charAt(0)).concat(s.charAt(0)).toUpperCase():t?t.charAt(0).toUpperCase():s?s.charAt(0).toUpperCase():e.email?e.email.charAt(0).toUpperCase():"U"}s.d(t,{NQ:()=>n,Nc:()=>a}),s(76202)}}]);