(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3698],{16226:(e,s,a)=>{Promise.resolve().then(a.bind(a,32563))},32563:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>_});var l=a(95155),i=a(12115),t=a(65523),r=a(47061),c=a(66861),n=a(15870),d=a(80534),m=a(71871),x=a(91169),o=a(47937),h=a(16485),j=a(6132),p=a(1524),g=a(86651),u=a(39867),N=a(6191),f=a(42529),v=a(26983),y=a(57828),b=a(11010),w=a(71360);function _(){let{user:e,profile:s,loading:a,requireRole:_,signOut:A}=(0,r.A)(),[C,S]=(0,i.useState)({totalUsers:0,totalColleges:0,totalPrograms:0,totalScholarships:0,pendingVerifications:0,recentActivity:0}),[Z,L]=(0,i.useState)([]),[$,k]=(0,i.useState)([]),[E,U]=(0,i.useState)("overview"),[V,D]=(0,i.useState)("");(0,i.useEffect)(()=>{_("admin")},[_]),(0,i.useEffect)(()=>{!a&&e&&s&&M()},[a,e,s]);let M=async()=>{try{S({totalUsers:1250,totalColleges:45,totalPrograms:180,totalScholarships:25,pendingVerifications:8,recentActivity:156}),L([{id:"1",name:"Delhi University",type:"government",location:{state:"Delhi",city:"New Delhi"},is_verified:!0,created_at:"2024-01-01T00:00:00Z",programs_count:12},{id:"2",name:"Jawaharlal Nehru University",type:"government",location:{state:"Delhi",city:"New Delhi"},is_verified:!0,created_at:"2024-01-02T00:00:00Z",programs_count:8},{id:"3",name:"University of Mumbai",type:"government",location:{state:"Maharashtra",city:"Mumbai"},is_verified:!1,created_at:"2024-01-03T00:00:00Z",programs_count:15},{id:"4",name:"Anna University",type:"government",location:{state:"Tamil Nadu",city:"Chennai"},is_verified:!0,created_at:"2024-01-04T00:00:00Z",programs_count:20}]),k([{id:"1",email:"john.doe@example.com",first_name:"John",last_name:"Doe",role:"student",created_at:"2024-01-01T00:00:00Z",is_verified:!0},{id:"2",email:"jane.smith@example.com",first_name:"Jane",last_name:"Smith",role:"student",created_at:"2024-01-02T00:00:00Z",is_verified:!1},{id:"3",email:"admin@pathniti.in",first_name:"Admin",last_name:"User",role:"admin",created_at:"2024-01-01T00:00:00Z",is_verified:!0}])}catch(e){console.error("Error fetching admin data:",e)}finally{}},P=async e=>{try{L(s=>s.map(s=>s.id===e?{...s,is_verified:!0}:s))}catch(e){console.error("Error verifying college:",e)}},T=async e=>{if(confirm("Are you sure you want to delete this college?"))try{L(s=>s.filter(s=>s.id!==e))}catch(e){console.error("Error deleting college:",e)}},W=async e=>{try{k(s=>s.map(s=>s.id===e?{...s,is_verified:!0}:s))}catch(e){console.error("Error verifying user:",e)}},z=Z.filter(e=>e.name.toLowerCase().includes(V.toLowerCase())||e.location.city.toLowerCase().includes(V.toLowerCase())||e.location.state.toLowerCase().includes(V.toLowerCase())),B=$.filter(e=>e.email.toLowerCase().includes(V.toLowerCase())||e.first_name.toLowerCase().includes(V.toLowerCase())||e.last_name.toLowerCase().includes(V.toLowerCase()));return a?(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)(n.A,{className:"h-12 w-12 text-primary animate-pulse mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Loading admin panel..."})]})}):e&&s?(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,l.jsx)(c.DynamicHeader,{}),(0,l.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Dashboard"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Manage colleges, users, and platform content."})]}),(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsx)("div",{className:"border-b border-gray-200",children:(0,l.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",label:"Overview",icon:d.A},{id:"colleges",label:"Colleges",icon:m.A},{id:"users",label:"Users",icon:x.A},{id:"content",label:"Content",icon:o.A},{id:"settings",label:"Settings",icon:n.A}].map(e=>{let s=e.icon;return(0,l.jsxs)("button",{onClick:()=>U(e.id),className:"flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ".concat(E===e.id?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,l.jsx)(s,{className:"h-4 w-4"}),(0,l.jsx)("span",{children:e.label})]},e.id)})})})}),"overview"===E&&(0,l.jsxs)("div",{className:"space-y-8",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,l.jsx)(t.Zp,{children:(0,l.jsx)(t.Wu,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,l.jsx)(x.A,{className:"h-6 w-6 text-blue-600"})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),(0,l.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:C.totalUsers.toLocaleString()})]})]})})}),(0,l.jsx)(t.Zp,{children:(0,l.jsx)(t.Wu,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,l.jsx)(m.A,{className:"h-6 w-6 text-green-600"})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Colleges"}),(0,l.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:C.totalColleges})]})]})})}),(0,l.jsx)(t.Zp,{children:(0,l.jsx)(t.Wu,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,l.jsx)(o.A,{className:"h-6 w-6 text-purple-600"})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Programs"}),(0,l.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:C.totalPrograms})]})]})})}),(0,l.jsx)(t.Zp,{children:(0,l.jsx)(t.Wu,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-orange-100 rounded-lg",children:(0,l.jsx)(h.A,{className:"h-6 w-6 text-orange-600"})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Scholarships"}),(0,l.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:C.totalScholarships})]})]})})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)(t.Zp,{children:[(0,l.jsxs)(t.aR,{children:[(0,l.jsxs)(t.ZB,{className:"flex items-center",children:[(0,l.jsx)(j.A,{className:"h-5 w-5 text-orange-600 mr-2"}),"Pending Verifications"]}),(0,l.jsx)(t.BT,{children:"Items requiring admin approval"})]}),(0,l.jsx)(t.Wu,{children:(0,l.jsxs)("div",{className:"space-y-4",children:[Z.filter(e=>!e.is_verified).slice(0,3).map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:[e.location.city,", ",e.location.state]})]}),(0,l.jsx)(t.$n,{size:"sm",onClick:()=>P(e.id),children:"Verify"})]},e.id)),0===Z.filter(e=>!e.is_verified).length&&(0,l.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No pending verifications"})]})})]}),(0,l.jsxs)(t.Zp,{children:[(0,l.jsxs)(t.aR,{children:[(0,l.jsxs)(t.ZB,{className:"flex items-center",children:[(0,l.jsx)(p.A,{className:"h-5 w-5 text-green-600 mr-2"}),"Recent Activity"]}),(0,l.jsx)(t.BT,{children:"Latest platform activity"})]}),(0,l.jsx)(t.Wu,{children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium",children:"New user registered"}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"2 minutes ago"})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium",children:"College added"}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"1 hour ago"})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium",children:"Quiz completed"}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"3 hours ago"})]})]})]})})]})]})]}),"colleges"===E&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("div",{className:"flex items-center space-x-4",children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(g.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,l.jsx)(t.pd,{placeholder:"Search colleges...",value:V,onChange:e=>D(e.target.value),className:"pl-10 w-64"})]})}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsxs)(t.$n,{variant:"outline",children:[(0,l.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,l.jsxs)(t.$n,{children:[(0,l.jsx)(N.A,{className:"h-4 w-4 mr-2"}),"Add College"]})]})]}),(0,l.jsx)("div",{className:"grid gap-4",children:z.map(e=>(0,l.jsx)(t.Zp,{children:(0,l.jsx)(t.Wu,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,l.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.is_verified?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"),children:e.is_verified?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f.A,{className:"h-3 w-3 inline mr-1"}),"Verified"]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(v.A,{className:"h-3 w-3 inline mr-1"}),"Pending"]})})]}),(0,l.jsxs)("p",{className:"text-gray-600 mb-2",children:[e.location.city,", ",e.location.state," â€¢"," ",e.programs_count," programs"]}),(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:["Added on"," ",new Date(e.created_at).toLocaleDateString()]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsxs)(t.$n,{size:"sm",variant:"outline",children:[(0,l.jsx)(y.A,{className:"h-4 w-4 mr-1"}),"View"]}),(0,l.jsxs)(t.$n,{size:"sm",variant:"outline",children:[(0,l.jsx)(b.A,{className:"h-4 w-4 mr-1"}),"Edit"]}),!e.is_verified&&(0,l.jsx)(t.$n,{size:"sm",onClick:()=>P(e.id),children:"Verify"}),(0,l.jsx)(t.$n,{size:"sm",variant:"outline",onClick:()=>T(e.id),children:(0,l.jsx)(w.A,{className:"h-4 w-4"})})]})]})})},e.id))})]}),"users"===E&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("div",{className:"flex items-center space-x-4",children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(g.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,l.jsx)(t.pd,{placeholder:"Search users...",value:V,onChange:e=>D(e.target.value),className:"pl-10 w-64"})]})}),(0,l.jsx)("div",{className:"flex items-center space-x-2",children:(0,l.jsxs)(t.$n,{variant:"outline",children:[(0,l.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Export"]})})]}),(0,l.jsx)("div",{className:"grid gap-4",children:B.map(e=>(0,l.jsx)(t.Zp,{children:(0,l.jsx)(t.Wu,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[e.first_name," ",e.last_name]}),(0,l.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("admin"===e.role?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:e.role.charAt(0).toUpperCase()+e.role.slice(1)}),(0,l.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.is_verified?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"),children:e.is_verified?"Verified":"Unverified"})]}),(0,l.jsx)("p",{className:"text-gray-600 mb-2",children:e.email}),(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:["Joined on"," ",new Date(e.created_at).toLocaleDateString()]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsxs)(t.$n,{size:"sm",variant:"outline",children:[(0,l.jsx)(y.A,{className:"h-4 w-4 mr-1"}),"View"]}),!e.is_verified&&(0,l.jsx)(t.$n,{size:"sm",onClick:()=>W(e.id),children:"Verify"})]})]})})},e.id))})]}),"content"===E&&(0,l.jsx)("div",{className:"space-y-6",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,l.jsx)(t.Zp,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:(0,l.jsxs)(t.Wu,{className:"p-6 text-center",children:[(0,l.jsx)(o.A,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Quiz Questions"}),(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:"Manage aptitude and interest questions"}),(0,l.jsx)(t.$n,{children:"Manage Questions"})]})}),(0,l.jsx)(t.Zp,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:(0,l.jsxs)(t.Wu,{className:"p-6 text-center",children:[(0,l.jsx)(h.A,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}),(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Scholarships"}),(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:"Manage scholarship information"}),(0,l.jsx)(t.$n,{children:"Manage Scholarships"})]})}),(0,l.jsx)(t.Zp,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:(0,l.jsxs)(t.Wu,{className:"p-6 text-center",children:[(0,l.jsx)(p.A,{className:"h-12 w-12 text-purple-600 mx-auto mb-4"}),(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Career Pathways"}),(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:"Manage career guidance content"}),(0,l.jsx)(t.$n,{children:"Manage Pathways"})]})})]})}),"settings"===E&&(0,l.jsx)("div",{className:"space-y-6",children:(0,l.jsxs)(t.Zp,{children:[(0,l.jsxs)(t.aR,{children:[(0,l.jsx)(t.ZB,{children:"Platform Settings"}),(0,l.jsx)(t.BT,{children:"Configure global platform settings"})]}),(0,l.jsxs)(t.Wu,{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Platform Name"}),(0,l.jsx)(t.pd,{defaultValue:"PathNiti"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Support Email"}),(0,l.jsx)(t.pd,{defaultValue:"support@pathniti.in"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max File Upload Size (MB)"}),(0,l.jsx)(t.pd,{type:"number",defaultValue:"10"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Auto-verify New Colleges"}),(0,l.jsxs)("select",{className:"w-full p-2 border border-gray-300 rounded-md",children:[(0,l.jsx)("option",{value:"false",children:"No"}),(0,l.jsx)("option",{value:"true",children:"Yes"})]})]})]}),(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsx)(t.$n,{children:"Save Settings"})})]})]})})]})]}):null}}},e=>{e.O(0,[8096,6332,7061,6867,5523,6861,8441,7358],()=>e(e.s=16226)),_N_E=e.O()}]);