(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4089],{72769:(e,s,a)=>{Promise.resolve().then(a.bind(a,90152))},90152:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>j});var r=a(95155),t=a(12115),l=a(20063),d=a(52619),n=a.n(d),i=a(65523),o=a(99708),c=a(42529),u=a(70532),m=a(57828),x=a(9572),h=a(66861);function p(){let[e,s]=(0,t.useState)(""),[a,d]=(0,t.useState)(""),[p,j]=(0,t.useState)(!1),[w,b]=(0,t.useState)(!1),[g,N]=(0,t.useState)(""),[f,y]=(0,t.useState)(!1),[v,P]=(0,t.useState)(!1),[C,S]=(0,t.useState)(!1),k=(0,l.useRouter)();(0,l.useSearchParams)(),(0,t.useEffect)(()=>{P(!0)},[]);let A=async s=>{if(s.preventDefault(),N(""),!e)return void N("Please enter a new password");if(e.length<6)return void N("Password must be at least 6 characters long");if(e!==a)return void N("Passwords do not match");S(!0);try{let{error:s}=await x.supabase.auth.updateUser({password:e});s?N(s.message||"Failed to update password"):(y(!0),setTimeout(()=>{k.push("/auth/login")},3e3))}catch(e){N("An unexpected error occurred. Please try again."),console.error("Password update error:",e)}finally{S(!1)}};return v?(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[(0,r.jsx)(h.DynamicHeader,{}),(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen p-4",children:(0,r.jsxs)(i.Zp,{className:"w-full max-w-md",children:[(0,r.jsxs)(i.aR,{className:"text-center",children:[(0,r.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,r.jsx)("div",{className:"p-3 bg-primary/10 rounded-full",children:(0,r.jsx)(o.A,{className:"h-6 w-6 text-primary"})})}),(0,r.jsx)(i.ZB,{className:"text-2xl font-bold",children:f?"Password Updated!":"Reset Your Password"}),(0,r.jsx)(i.BT,{children:f?"Your password has been successfully updated. You will be redirected to the login page.":"Enter your new password below."})]}),(0,r.jsx)(i.Wu,{children:f?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"text-center p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,r.jsx)(c.A,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-green-800 text-sm",children:"Your password has been successfully updated!"})]}),(0,r.jsx)(i.$n,{onClick:()=>k.push("/auth/login"),className:"w-full",children:"Go to Login"})]}):(0,r.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[g&&(0,r.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,r.jsx)("p",{className:"text-red-800 text-sm",children:g})}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{htmlFor:"password",className:"text-sm font-medium",children:"New Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(o.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,r.jsx)(i.pd,{id:"password",type:p?"text":"password",placeholder:"Enter your new password",value:e,onChange:e=>s(e.target.value),className:"pl-10 pr-10",autoComplete:"new-password",required:!0}),(0,r.jsx)("button",{type:"button",onClick:()=>j(!p),className:"absolute right-3 top-3 h-4 w-4 text-gray-400 hover:text-gray-600",children:p?(0,r.jsx)(u.A,{}):(0,r.jsx)(m.A,{})})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"text-sm font-medium",children:"Confirm New Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(o.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,r.jsx)(i.pd,{id:"confirmPassword",type:w?"text":"password",placeholder:"Confirm your new password",value:a,onChange:e=>d(e.target.value),className:"pl-10 pr-10",autoComplete:"new-password",required:!0}),(0,r.jsx)("button",{type:"button",onClick:()=>b(!w),className:"absolute right-3 top-3 h-4 w-4 text-gray-400 hover:text-gray-600",children:w?(0,r.jsx)(u.A,{}):(0,r.jsx)(m.A,{})})]})]}),(0,r.jsx)(i.$n,{type:"submit",className:"w-full",disabled:C,children:C?"Updating...":"Update Password"}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)(n(),{href:"/auth/login",className:"text-sm text-primary hover:underline",children:"Back to Login"})})]})})]})})]}):(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading..."})]})})}function j(){return(0,r.jsx)(t.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading..."})]})}),children:(0,r.jsx)(p,{})})}}},e=>{e.O(0,[8096,6332,7061,6867,5523,6861,8441,7358],()=>e(e.s=72769)),_N_E=e.O()}]);