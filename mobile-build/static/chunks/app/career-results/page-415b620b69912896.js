(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8662],{80991:(e,s,a)=>{"use strict";a.d(s,{k:()=>c});var t=a(12115),r=a(9484),l=a(64269);let c=t.forwardRef((e,s)=>{let{className:a,value:c,...n}=e;return t.createElement(r.Root,{ref:s,className:(0,l.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...n},t.createElement(r.Indicator,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(c||0),"%)")}}))});c.displayName=r.Root.displayName},83817:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>A});var t=a(95155),r=a(12115),l=a(47061),c=a(20063),n=a(86948),i=a(3998),d=a(11647),m=a(80991),x=a(1473),o=a(80647),h=a(17666),j=a(39068),p=a(6132),g=a(30814),u=a(39347),N=a(29633),b=a(42529),f=a(1524);let _={science_aptitude:x.A,math_aptitude:o.A,logical_reasoning:h.A,general_knowledge:j.A},v={science_aptitude:"bg-blue-100 text-blue-800",math_aptitude:"bg-green-100 text-green-800",logical_reasoning:"bg-purple-100 text-purple-800",general_knowledge:"bg-orange-100 text-orange-800"},y={very_high:"bg-green-100 text-green-800",high:"bg-blue-100 text-blue-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-red-100 text-red-800"};function w(){let{user:e,loading:s}=(0,l.A)(),a=(0,c.useSearchParams)().get("assessment_id"),[o,h]=(0,r.useState)(null),[j,w]=(0,r.useState)(!0),[A,k]=(0,r.useState)(null),E=(0,r.useCallback)(async()=>{try{w(!0);let e=await fetch("/api/assessment-session/".concat(a));if(!e.ok)throw Error("Assessment session not found");let s=await e.json(),t=await fetch("/api/career-recommendation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:s.user_id,student_class:s.student_class||"10th",assessment_data:{aptitude_scores:s.aptitude_scores||{},riasec_scores:s.riasec_scores||{},personality_scores:s.personality_scores||{},subject_performance:s.subject_performance||{},practical_constraints:s.practical_constraints||{}},test_performance:{total_questions:s.total_questions||30,answered_questions:s.answered_questions||30,correct_answers:Math.round((s.total_score||0)*(s.answered_questions||30)/100),total_time_seconds:s.time_spent||1800,responses:[]}})});if(!t.ok)throw Error("Failed to load career recommendations");let r=await t.json();h(r)}catch(e){console.error("Error loading results:",e),k("Failed to load results. Please try again.")}finally{w(!1)}},[a]);(0,r.useEffect)(()=>{!s&&e&&a&&E()},[e,s,a,E]);let C=e=>y[e]||"bg-gray-100 text-gray-800",R=e=>e>=.8?"text-green-600":e>=.6?"text-yellow-600":"text-red-600";return s||j?(0,t.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Analyzing your assessment results..."})]})}):A?(0,t.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,t.jsx)(n.Zp,{className:"w-full max-w-md",children:(0,t.jsx)(n.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(p.A,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Error Loading Results"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:A}),(0,t.jsx)(i.$,{onClick:()=>window.location.reload(),children:"Try Again"})]})})})}):o?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,t.jsx)(n.Zp,{className:"mb-6",children:(0,t.jsx)(n.aR,{children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(n.ZB,{className:"text-3xl mb-2",children:"Your Career Assessment Results"}),(0,t.jsxs)("p",{className:"text-gray-600",children:["Class ",o.student_class," â€¢ Based on your comprehensive assessment"]})]})})}),(0,t.jsxs)(n.Zp,{className:"mb-6",children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(g.A,{className:"w-5 h-5"}),"Assessment Performance"]})}),(0,t.jsxs)(n.Wu,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-3xl font-bold text-primary mb-2",children:[o.test_performance.accuracy.toFixed(1),"%"]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Overall Accuracy"}),(0,t.jsx)(m.k,{value:o.test_performance.accuracy,className:"mt-2"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-3xl font-bold text-primary mb-2",children:[o.test_performance.speed.toFixed(1),"s"]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Avg Time per Question"}),(0,t.jsx)(m.k,{value:Math.min(2*o.test_performance.speed,100),className:"mt-2"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-primary mb-2",children:o.test_performance.weighted_score.toFixed(1)}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Weighted Score"}),(0,t.jsx)(m.k,{value:o.test_performance.weighted_score,className:"mt-2"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Subject-wise Performance"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Object.entries(o.test_performance.subject_breakdown).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg border",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(e=>{let s=_[e]||x.A;return(0,t.jsx)(s,{className:"w-4 h-4"})})(s),(0,t.jsx)(d.E,{className:v[s]||"bg-gray-100 text-gray-800",children:s.replace("_"," ").toUpperCase()})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Accuracy:"}),(0,t.jsxs)("span",{className:"font-medium",children:[a.accuracy.toFixed(1),"%"]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Speed:"}),(0,t.jsxs)("span",{className:"font-medium",children:[a.speed.toFixed(1),"s"]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Score:"}),(0,t.jsx)("span",{className:"font-medium",children:a.score.toFixed(1)})]})]})]},s)})})]})]})]}),(0,t.jsxs)(n.Zp,{className:"mb-6 border-l-4 border-l-green-500",children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(u.A,{className:"w-5 h-5 text-green-600"}),"Your Best Career Match"]})}),(0,t.jsx)(n.Wu,{children:o.recommended_path.length>0&&(0,t.jsxs)("div",{className:"border rounded-lg p-6 bg-green-50",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-2xl font-bold mb-2 text-green-800",children:o.recommended_path[0].stream_or_course}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsxs)(d.E,{className:C(o.recommended_path[0].job_demand_trend),children:[o.recommended_path[0].job_demand_trend.replace("_"," ").toUpperCase()," DEMAND"]}),(0,t.jsx)(d.E,{variant:"outline",children:o.recommended_path[0].time_to_earn}),(0,t.jsx)(d.E,{variant:"outline",children:o.recommended_path[0].average_salary})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"text-3xl font-bold ".concat(R(o.recommended_path[0].confidence_score)),children:[(100*o.recommended_path[0].confidence_score).toFixed(0),"%"]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Match Confidence"})]})]}),(0,t.jsx)("p",{className:"text-gray-700 mb-4 text-lg",children:o.recommended_path[0].reasoning}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold mb-3 flex items-center gap-2 text-lg",children:[(0,t.jsx)(N.A,{className:"w-5 h-5"}),"Career Opportunities"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:o.recommended_path[0].career_opportunities.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm bg-white p-2 rounded",children:[(0,t.jsx)(b.A,{className:"w-4 h-4 text-green-500"}),(0,t.jsx)("span",{children:e})]},s))})]})]})})]}),o.recommended_path.length>1&&(0,t.jsxs)(n.Zp,{className:"mb-6",children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(g.A,{className:"w-5 h-5"}),"Alternative Options"]})}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("div",{className:"space-y-4",children:o.recommended_path.slice(1).map((e,s)=>(0,t.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold mb-2",children:[s+2,". ",e.stream_or_course]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsxs)(d.E,{className:C(e.job_demand_trend),children:[e.job_demand_trend.replace("_"," ").toUpperCase()," DEMAND"]}),(0,t.jsx)(d.E,{variant:"outline",children:e.time_to_earn}),(0,t.jsx)(d.E,{variant:"outline",children:e.average_salary})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"text-xl font-bold ".concat(R(e.confidence_score)),children:[(100*e.confidence_score).toFixed(0),"%"]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Confidence"})]})]}),(0,t.jsx)("p",{className:"text-gray-700 mb-3",children:e.reasoning}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[(0,t.jsx)(N.A,{className:"w-4 h-4"}),"Career Opportunities"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:e.career_opportunities.slice(0,4).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(b.A,{className:"w-4 h-4 text-green-500"}),(0,t.jsx)("span",{children:e})]},s))})]})]},s))})})]}),(0,t.jsxs)(n.Zp,{className:"mb-6",children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(x.A,{className:"w-5 h-5"}),"AI-Powered Insights"]})}),(0,t.jsxs)(n.Wu,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,t.jsx)(b.A,{className:"w-4 h-4 text-green-500"}),"Your Strengths"]}),(0,t.jsx)("ul",{className:"space-y-2",children:o.ai_insights.strengths.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2 text-sm",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"}),(0,t.jsx)("span",{children:e})]},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,t.jsx)(f.A,{className:"w-4 h-4 text-blue-500"}),"Areas for Improvement"]}),(0,t.jsx)("ul",{className:"space-y-2",children:o.ai_insights.areas_for_improvement.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2 text-sm",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),(0,t.jsx)("span",{children:e})]},s))})]})]}),(0,t.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"Overall Assessment"}),(0,t.jsx)("p",{className:"text-gray-700",children:o.ai_insights.overall_assessment})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,t.jsx)(i.$,{onClick:()=>window.print(),variant:"outline",className:"px-6",children:"Print Results"}),(0,t.jsx)(i.$,{onClick:()=>window.location.href="/dashboard",className:"px-6",children:"Go to Dashboard"})]})]})}):(0,t.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,t.jsx)(n.Zp,{className:"w-full max-w-md",children:(0,t.jsx)(n.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(p.A,{className:"w-12 h-12 text-yellow-500 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"No Results Available"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Unable to load career recommendations."})]})})})})}function A(){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}),children:(0,t.jsx)(w,{})})}},95454:(e,s,a)=>{Promise.resolve().then(a.bind(a,83817))}},e=>{e.O(0,[8096,6332,7061,8441,7358],()=>e(e.s=95454)),_N_E=e.O()}]);