(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4831],{42846:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>V});var r=t(95155),a=t(12115),l=t(20063),n=t(52619),i=t.n(n),o=t(89442),c=t(6132),d=t(35626),m=t(19408),x=t(42529),h=t(16485),u=t(21873),g=t(69141),p=t(23664),b=t(39068),f=t(93499),j=t(23327),N=t(47937),w=t(26983),y=t(91169),v=t(52472),_=t(20980),k=t(89715),A=t(65523),C=t(96648);class E{async getProfileBySlug(e){try{if("manage"===e){let e=await fetch("/api/colleges/manage/",{credentials:"include",headers:{"Content-Type":"application/json"}});if(!e.ok){if(401===e.status)return{data:null,error:"Authentication required. Please log in to access college management."};if(403===e.status)return{data:null,error:"Access denied. You need college role to access management."};let s=await e.text();return console.error("Error fetching college management data:",s),{data:null,error:"HTTP ".concat(e.status,": ").concat(s)}}let s=await e.json();if(s.error)return console.error("Error fetching college management data:",s.error),{data:null,error:s.error};return{data:{...s.college,slug:s.college.slug||"manage",courses:s.college.courses||[],notices:s.college.notices||[],events:s.college.events||[]},error:null}}let s=await fetch("/api/colleges/".concat(e),{credentials:"include",headers:{"Content-Type":"application/json"}});if(!s.ok){if(404===s.status)return{data:null,error:"College not found"};if(401===s.status)return{data:null,error:"Authentication required. Please log in to access this college."};if(403===s.status)return{data:null,error:"Access denied. You don't have permission to view this college."};let e=await s.text();return console.error("Error fetching college by slug:",e),{data:null,error:"HTTP ".concat(s.status,": ").concat(e)}}let t=await s.json();if(t.error)return console.error("Error fetching college by slug:",t.error),{data:null,error:t.error};return{data:t.data,error:null}}catch(e){return console.error("Unexpected error fetching college by slug:",e),{data:null,error:e instanceof Error?e.message:"Unknown error"}}}async getAllColleges(){try{let e=await fetch("/api/colleges/",{credentials:"include",headers:{"Content-Type":"application/json"}});if(!e.ok){let s=await e.text();return console.error("Error fetching colleges:",s),{data:null,error:"HTTP ".concat(e.status,": ").concat(s)}}let s=await e.json();if(s.error)return console.error("Error fetching colleges:",s.error),{data:null,error:s.error};return{data:s.data,error:null}}catch(e){return console.error("Unexpected error fetching colleges:",e),{data:null,error:e instanceof Error?e.message:"Unknown error"}}}constructor(){this.supabase=(0,C.U)()}}let S=new E;var F=t(21786),P=t(35299),U=t(65229),T=t(9572);let L={ALL:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/png","image/jpg","image/webp"]},B={DOCUMENT:0xa00000,IMAGE:5242880},D={"application/pdf":"PDF","application/msword":"DOC","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"DOCX","image/jpeg":"JPEG","image/png":"PNG","image/jpg":"JPG","image/webp":"WebP"},z={"application/pdf":"pdf","application/msword":"doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","image/jpeg":"jpg","image/png":"png","image/jpg":"jpg","image/webp":"webp"};async function O(e,s){let t=[],r=(null==s?void 0:s.allowedTypes)||L.ALL,a=(null==s?void 0:s.maxSize)||(Z(e)?B.IMAGE:B.DOCUMENT),l=(null==s?void 0:s.minSize)||1024;if(0===e.size)return{isValid:!1,error:"File cannot be empty"};if(e.size<l)return{isValid:!1,error:"File size must be at least ".concat(R(l))};if(!r.includes(e.type)){let e=r.map(e=>D[e]||e).join(", ");return{isValid:!1,error:"Only ".concat(e," files are allowed")}}let n=z[e.type],i=M(e.name);if(n&&i!==n&&t.push('File extension "'.concat(i,'" doesn\'t match file type. Expected "').concat(n,'"')),e.size>a)return{isValid:!1,error:"File size must be less than ".concat(R(a))};if(null==s?void 0:s.allowedExtensions){let t=M(e.name);if(!s.allowedExtensions.includes(t))return{isValid:!1,error:"Only files with extensions ".concat(s.allowedExtensions.join(", ")," are allowed")}}if(Z(e)){let r=function(e,s){let t=[];return(null==s?void 0:s.requireSpecificDimensions)?new Promise(r=>{let a=new Image,l=URL.createObjectURL(e);a.onload=()=>{URL.revokeObjectURL(l);let{width:e,height:n,tolerance:i=0}=s.requireSpecificDimensions,o=Math.abs(a.width-e),c=Math.abs(a.height-n);o>i||c>i?r({isValid:!1,error:"Image dimensions must be ".concat(e,"x").concat(n,"px (\xb1").concat(i,"px tolerance). Current: ").concat(a.width,"x").concat(a.height,"px")}):r({isValid:!0,warnings:t})},a.onerror=()=>{URL.revokeObjectURL(l),r({isValid:!1,error:"Invalid image file or corrupted data"})},a.src=l}):{isValid:!0,warnings:t}}(e,s);if(r instanceof Promise){let e=await r;if(!e.isValid)return e;e.warnings&&t.push(...e.warnings)}else{if(!r.isValid)return r;r.warnings&&t.push(...r.warnings)}}return{isValid:!0,warnings:t.length>0?t:void 0}}function R(e){if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]}function M(e){var s;return(null==(s=e.split(".").pop())?void 0:s.toLowerCase())||""}function Z(e){return e.type.startsWith("image/")}function q(e){let{collegeId:s,collegeName:t,onSuccess:l,onCancel:n}=e,[i,o]=(0,a.useState)({full_name:"",email:"",phone:"",class_stream:""}),[d,m]=(0,a.useState)({marksheet_10th:{file:null,url:null,uploading:!1,progress:0,error:null},marksheet_12th:{file:null,url:null,uploading:!1,progress:0,error:null},other_documents:[]}),[h,u]=(0,a.useState)(!1),[g,p]=(0,a.useState)({}),[b,f]=(0,a.useState)(null),j={marksheet_10th:(0,a.useRef)(null),marksheet_12th:(0,a.useRef)(null),other_documents:(0,a.useRef)(null)},N=async(e,s)=>{try{let t=function(e){let s=M(e),t=Date.now(),r=Math.random().toString(36).substring(2),a=e.replace(/\.[^/.]+$/,"").substring(0,50);return"".concat(a,"-").concat(t,"-").concat(r,".").concat(s)}(e.name),r="".concat(s,"/").concat(t),{data:a,error:l}=await T.supabase.storage.from("student-documents").upload(r,e,{cacheControl:"3600",upsert:!1});if(l)return console.error("Upload error:",l),{url:null,error:l.message};let{data:{publicUrl:n}}=T.supabase.storage.from("student-documents").getPublicUrl(a.path);return{url:n,error:null}}catch(e){return console.error("Upload error:",e),{url:null,error:"Failed to upload file"}}},w=async(e,t)=>{let r=e.target.files;if(!r||0===r.length)return;let a=r[0],l=await O(a);if(!l.isValid)return void p(e=>({...e,[t]:l.error||"Invalid file"}));if(p(e=>({...e,[t]:""})),"other_documents"===t){let e={file:a,url:null,uploading:!0,progress:0,error:null};m(s=>({...s,other_documents:[...s.other_documents,e]}));let t=d.other_documents.length,{url:r,error:l}=await N(a,"other-documents/".concat(s));m(e=>({...e,other_documents:e.other_documents.map((e,s)=>s===t?{...e,url:r,uploading:!1,progress:100,error:l}:e)}))}else{m(e=>({...e,[t]:{file:a,url:null,uploading:!0,progress:0,error:null}}));let{url:e,error:r}=await N(a,"marksheets/".concat(s));m(s=>({...s,[t]:{...s[t],url:e,uploading:!1,progress:100,error:r}}))}},y=(e,s)=>{"other_documents"===e&&"number"==typeof s?m(e=>({...e,other_documents:e.other_documents.filter((e,t)=>t!==s)})):m(s=>({...s,[e]:{file:null,url:null,uploading:!1,progress:0,error:null}}))},v=async e=>{if(e.preventDefault(),(()=>{let e={};return i.full_name.trim()||(e.full_name="Full name is required"),i.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)||(e.email="Please enter a valid email address"):e.email="Email is required",i.phone.trim()?/^[6-9]\d{9}$/.test(i.phone.replace(/\s+/g,""))||(e.phone="Please enter a valid 10-digit phone number"):e.phone="Phone number is required",i.class_stream.trim()||(e.class_stream="Class/Stream is required"),d.marksheet_10th.url||(e.marksheet_10th="10th marksheet is required"),d.marksheet_12th.url||(e.marksheet_12th="12th marksheet is required"),p(e),0===Object.keys(e).length})()){u(!0),f(null);try{let{data:{user:e},error:t}=await T.supabase.auth.getUser();if(t||!e)return void f("You must be logged in to submit an application");let r={marksheet_10th:d.marksheet_10th.url,marksheet_12th:d.marksheet_12th.url,other_documents:d.other_documents.filter(e=>e.url).map(e=>e.url)},a=await fetch("/api/colleges/".concat(s,"/apply"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...i,documents:r})});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to submit application")}null==l||l()}catch(e){console.error("Submit error:",e),f(e instanceof Error?e.message:"Failed to submit application")}finally{u(!1)}}},_=function(e,s){var t;let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=d[e],n="other_documents"===e;return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(A.JU,{htmlFor:e,className:"text-sm font-medium",children:[s," ",a&&(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 hover:border-primary/50 transition-colors",children:[(0,r.jsx)("input",{ref:j[e],type:"file",id:e,accept:".pdf,.jpg,.jpeg,.png",multiple:n,onChange:s=>w(s,e),className:"hidden"}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(F.A,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),(0,r.jsx)(A.$n,{type:"button",variant:"outline",onClick:()=>{var s;return null==(s=j[e].current)?void 0:s.click()},disabled:h,children:"Choose File"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"PDF, JPEG, PNG up to 5MB"})]})]}),!n&&l.file&&(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(k.A,{className:"h-4 w-4 text-gray-500"}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:null==(t=l.file)?void 0:t.name}),l.uploading&&(0,r.jsx)(P.A,{className:"h-4 w-4 animate-spin text-primary"}),l.url&&(0,r.jsx)(x.A,{className:"h-4 w-4 text-green-500"})]}),(0,r.jsx)(A.$n,{type:"button",variant:"ghost",size:"sm",onClick:()=>y(e),disabled:h,children:(0,r.jsx)(U.A,{className:"h-4 w-4"})})]}),n&&d.other_documents.map((e,s)=>{var t;return(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(k.A,{className:"h-4 w-4 text-gray-500"}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:null==(t=e.file)?void 0:t.name}),e.uploading&&(0,r.jsx)(P.A,{className:"h-4 w-4 animate-spin text-primary"}),e.url&&(0,r.jsx)(x.A,{className:"h-4 w-4 text-green-500"})]}),(0,r.jsx)(A.$n,{type:"button",variant:"ghost",size:"sm",onClick:()=>y("other_documents",s),disabled:h,children:(0,r.jsx)(U.A,{className:"h-4 w-4"})})]},s)}),!n&&l.uploading&&(0,r.jsx)(A.ke,{value:l.progress,className:"w-full"}),g[e]&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:g[e]})]})};return(0,r.jsxs)(A.Zp,{className:"w-full max-w-2xl mx-auto",children:[(0,r.jsxs)(A.aR,{children:[(0,r.jsxs)(A.ZB,{className:"text-xl font-bold",children:["Apply to ",t]}),(0,r.jsx)("p",{className:"text-gray-600",children:"Fill out the form below to submit your application"})]}),(0,r.jsx)(A.Wu,{children:(0,r.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"Personal Information"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(A.JU,{htmlFor:"full_name",children:["Full Name ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(A.pd,{id:"full_name",type:"text",value:i.full_name,onChange:e=>o(s=>({...s,full_name:e.target.value})),placeholder:"Enter your full name",disabled:h}),g.full_name&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:g.full_name})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(A.JU,{htmlFor:"email",children:["Email Address ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(A.pd,{id:"email",type:"email",value:i.email,onChange:e=>o(s=>({...s,email:e.target.value})),placeholder:"Enter your email address",disabled:h}),g.email&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:g.email})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(A.JU,{htmlFor:"phone",children:["Phone Number ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(A.pd,{id:"phone",type:"tel",value:i.phone,onChange:e=>o(s=>({...s,phone:e.target.value})),placeholder:"Enter your phone number",disabled:h}),g.phone&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:g.phone})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(A.JU,{htmlFor:"class_stream",children:["Class/Stream ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(A.pd,{id:"class_stream",type:"text",value:i.class_stream,onChange:e=>o(s=>({...s,class_stream:e.target.value})),placeholder:"e.g., 12th Science, B.Tech CSE, etc.",disabled:h}),g.class_stream&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:g.class_stream})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"Document Upload"}),_("marksheet_10th","10th Marksheet",!0),_("marksheet_12th","12th Marksheet",!0),_("other_documents","Other Documents (Optional)")]}),b&&(0,r.jsxs)(A.Fc,{variant:"destructive",children:[(0,r.jsx)(c.A,{className:"h-4 w-4"}),(0,r.jsx)(A.TN,{children:b})]}),(0,r.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,r.jsx)(A.$n,{type:"submit",disabled:h,className:"flex-1",children:h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(P.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting Application..."]}):"Submit Application"}),n&&(0,r.jsx)(A.$n,{type:"button",variant:"outline",onClick:n,disabled:h,children:"Cancel"})]})]})})]})}function V(e){let{params:s}=e,[n,C]=(0,a.useState)(null),[E,F]=(0,a.useState)(!0),[P,U]=(0,a.useState)(null),[T,L]=(0,a.useState)(!1),[B,D]=(0,a.useState)(null),[z,O]=(0,a.useState)(null),[R,M]=(0,a.useState)(null);return((0,a.useEffect)(()=>{(async()=>{try{let{supabase:e}=await Promise.resolve().then(t.bind(t,9572));M(e)}catch(e){console.error("Failed to load supabase client:",e),Promise.resolve().then(t.bind(t,9572)).then(e=>{let{supabase:s}=e;M(s)}).catch(e=>{console.error("Fallback supabase import also failed:",e)})}})()},[]),(0,a.useEffect)(()=>{if(!R)return;let e=async()=>{try{let{data:{user:e}}=await R.auth.getUser();if(D(e?{id:e.id,email:e.email||"",role:"user"}:null),e){let{data:s,error:t}=await R.from("profiles").select("role").eq("id",e.id).single();!t&&s&&O(s.role||"user")}}catch(e){console.error("Error fetching user:",e)}};(async()=>{try{F(!0),U(null);let e=await s,{data:t,error:r}=await S.getProfileBySlug(e.slug);if(r)return void U(r);if(!t)return void(0,l.notFound)();C(t)}catch(e){console.error("Error fetching college profile:",e),U("Failed to load college profile")}finally{F(!1)}})(),e()},[s,R]),E)?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(o.A,{className:"h-12 w-12 text-primary animate-pulse mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading college profile..."})]})}):P?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center max-w-md mx-auto p-6",children:[(0,r.jsx)(c.A,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error Loading Profile"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:P}),(0,r.jsx)(A.$n,{asChild:!0,children:(0,r.jsxs)(i(),{href:"/colleges",children:[(0,r.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Back to Colleges"]})})]})}):(n||(0,l.notFound)(),(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[(0,r.jsx)("nav",{className:"border-b bg-white/90 backdrop-blur-md sticky top-0 z-50 shadow-sm",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,r.jsxs)(i(),{href:"/colleges",className:"flex items-center space-x-2 text-gray-600 hover:text-primary transition-colors",children:[(0,r.jsx)(d.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"font-medium",children:"Back to Colleges"})]}),(0,r.jsx)("div",{className:"flex items-center space-x-3",children:(0,r.jsx)(A.$n,{variant:"outline",asChild:!0,children:(0,r.jsx)(i(),{href:"/dashboard",children:"Dashboard"})})})]})}),(0,r.jsxs)("div",{className:"relative overflow-hidden bg-gradient-to-br from-primary via-blue-600 to-purple-700 text-white",children:[(0,r.jsxs)("div",{className:"absolute inset-0",children:[(0,r.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-white/10 to-transparent"}),(0,r.jsx)("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white/5 rounded-full blur-3xl animate-pulse"}),(0,r.jsx)("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-blue-400/10 rounded-full blur-2xl animate-bounce"}),(0,r.jsx)("div",{className:"absolute bottom-1/4 right-1/4 w-48 h-48 bg-purple-400/10 rounded-full blur-xl animate-pulse"})]}),(0,r.jsx)("div",{className:"container mx-auto px-4 py-20 relative z-10",children:(0,r.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-8 mb-12",children:[(0,r.jsx)("div",{className:"w-24 h-24 bg-white/20 backdrop-blur-sm rounded-3xl flex items-center justify-center shadow-2xl border border-white/30",children:(0,r.jsx)(m.A,{className:"h-12 w-12 text-white"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h1",{className:"text-5xl md:text-6xl font-bold mb-4 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:n.name}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[(0,r.jsx)(A.Ex,{className:"bg-white/20 text-white border-white/30 hover:bg-white/30 transition-colors px-4 py-2 text-sm font-medium",children:n.type.charAt(0).toUpperCase()+n.type.slice(1).replace("_"," ")}),n.is_verified&&(0,r.jsxs)(A.Ex,{className:"bg-green-500/20 text-green-100 border-green-400/30 hover:bg-green-500/30 transition-colors px-4 py-2 text-sm font-medium",children:[(0,r.jsx)(x.A,{className:"h-4 w-4 mr-1"}),"Verified"]}),n.established_year&&(0,r.jsxs)(A.Ex,{className:"bg-blue-500/20 text-blue-100 border-blue-400/30 hover:bg-blue-500/30 transition-colors px-4 py-2 text-sm font-medium",children:[(0,r.jsx)(h.A,{className:"h-4 w-4 mr-1"}),"Est. ",n.established_year]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[(0,r.jsx)(u.A,{className:"h-6 w-6 text-white/90"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-white/70 text-sm",children:"Location"}),(0,r.jsxs)("p",{className:"text-white font-semibold",children:[n.location.city,", ",n.location.state]})]})]}),n.phone&&(0,r.jsxs)("div",{className:"flex items-center gap-3 bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[(0,r.jsx)(g.A,{className:"h-6 w-6 text-white/90"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-white/70 text-sm",children:"Phone"}),(0,r.jsx)("p",{className:"text-white font-semibold",children:n.phone})]})]}),n.email&&(0,r.jsxs)("div",{className:"flex items-center gap-3 bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[(0,r.jsx)(p.A,{className:"h-6 w-6 text-white/90"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-white/70 text-sm",children:"Email"}),(0,r.jsx)("p",{className:"text-white font-semibold truncate",children:n.email})]})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-3",children:[n.website&&(0,r.jsx)(A.$n,{size:"lg",className:"bg-white/20 hover:bg-white/30 text-white border-white/30 backdrop-blur-sm",asChild:!0,children:(0,r.jsxs)("a",{href:n.website,target:"_blank",rel:"noopener noreferrer",children:[(0,r.jsx)(b.A,{className:"h-5 w-5 mr-2"}),"Visit Website",(0,r.jsx)(f.A,{className:"h-4 w-4 ml-2"})]})}),B&&"student"===z&&(0,r.jsxs)(A.$n,{size:"lg",className:"bg-white text-primary hover:bg-gray-50 font-semibold shadow-lg",onClick:()=>L(!0),children:[(0,r.jsx)(o.A,{className:"h-5 w-5 mr-2"}),"Apply Now"]})]})]})})})]}),(0,r.jsx)("div",{className:"container mx-auto px-4 py-12 -mt-8 relative z-10",children:(0,r.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,r.jsxs)(A.Zp,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-xl hover:shadow-2xl transition-all duration-300",children:[(0,r.jsx)(A.aR,{className:"bg-gradient-to-r from-blue-500/10 to-indigo-500/10 rounded-t-lg",children:(0,r.jsxs)(A.ZB,{className:"text-2xl font-bold flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,r.jsx)(j.A,{className:"h-5 w-5 text-blue-600"})}),"About ",n.name]})}),(0,r.jsx)(A.Wu,{className:"p-8",children:n.about?(0,r.jsx)("p",{className:"text-gray-700 leading-relaxed text-lg",children:n.about}):(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(j.A,{className:"h-8 w-8 text-gray-400"})}),(0,r.jsxs)("p",{className:"text-gray-500 text-lg",children:["Detailed information about ",n.name," will be available soon."]}),(0,r.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"We're working on adding comprehensive details about this institution."})]})})]}),(0,r.jsxs)(A.Zp,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-xl hover:shadow-2xl transition-all duration-300",children:[(0,r.jsxs)(A.aR,{className:"bg-gradient-to-r from-green-500/10 to-emerald-500/10 rounded-t-lg",children:[(0,r.jsxs)(A.ZB,{className:"text-2xl font-bold flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:(0,r.jsx)(N.A,{className:"h-5 w-5 text-green-600"})}),"Courses Offered"]}),(0,r.jsx)(A.BT,{className:"text-lg text-gray-600",children:n.courses&&n.courses.length>0?"".concat(n.courses.length," course").concat(1!==n.courses.length?"s":""," available"):"Course information coming soon"})]}),(0,r.jsx)(A.Wu,{className:"p-8",children:n.courses&&n.courses.length>0?(0,r.jsx)("div",{className:"grid md:grid-cols-2 gap-6",children:n.courses.map(e=>(0,r.jsxs)("div",{className:"p-6 border border-gray-200 rounded-xl hover:border-green-300 hover:shadow-lg transition-all duration-300 bg-gradient-to-br from-white to-green-50/30",children:[(0,r.jsx)("h4",{className:"font-bold text-gray-900 mb-3 text-lg",children:e.name}),e.description&&(0,r.jsx)("p",{className:"text-gray-600 mb-4 leading-relaxed",children:e.description}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[e.duration&&(0,r.jsxs)("div",{className:"flex items-center gap-2 bg-blue-100 text-blue-700 px-3 py-1 rounded-full",children:[(0,r.jsx)(w.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"font-medium",children:e.duration})]}),e.seats&&(0,r.jsxs)("div",{className:"flex items-center gap-2 bg-purple-100 text-purple-700 px-3 py-1 rounded-full",children:[(0,r.jsx)(y.A,{className:"h-4 w-4"}),(0,r.jsxs)("span",{className:"font-medium",children:[e.seats," seats"]})]})]})]},e.id))}):(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(N.A,{className:"h-8 w-8 text-gray-400"})}),(0,r.jsxs)("p",{className:"text-gray-500 text-lg",children:["Course information for ",n.name," will be available soon."]}),(0,r.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"We're working on adding detailed course offerings and admission requirements."})]})})]}),(0,r.jsxs)(A.Zp,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-xl hover:shadow-2xl transition-all duration-300",children:[(0,r.jsx)(A.aR,{className:"bg-gradient-to-r from-orange-500/10 to-red-500/10 rounded-t-lg",children:(0,r.jsxs)(A.ZB,{className:"text-2xl font-bold flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:(0,r.jsx)(c.A,{className:"h-5 w-5 text-orange-600"})}),"Latest Notices"]})}),(0,r.jsx)(A.Wu,{className:"p-8",children:n.notices&&n.notices.length>0?(0,r.jsx)("div",{className:"space-y-6",children:n.notices.filter(e=>e.is_active).sort((e,s)=>new Date(s.published_at).getTime()-new Date(e.published_at).getTime()).slice(0,5).map(e=>(0,r.jsx)("div",{className:"p-6 border-l-4 border-orange-400 bg-gradient-to-r from-orange-50/50 to-red-50/30 rounded-r-xl hover:shadow-md transition-all duration-300",children:(0,r.jsx)("div",{className:"flex items-start justify-between",children:(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"font-bold text-gray-900 mb-2 text-lg",children:e.title}),(0,r.jsx)("p",{className:"text-gray-700 mb-4 leading-relaxed",children:e.content}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(A.Ex,{className:"bg-orange-100 text-orange-800 border-orange-200",children:e.type.charAt(0).toUpperCase()+e.type.slice(1)}),(0,r.jsx)("span",{className:"text-sm text-gray-500 font-medium",children:new Date(e.published_at).toLocaleDateString()})]})]})})},e.id))}):(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(c.A,{className:"h-8 w-8 text-gray-400"})}),(0,r.jsxs)("p",{className:"text-gray-500 text-lg",children:["No notices available for ",n.name," at the moment."]}),(0,r.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"Check back later for important announcements and updates."})]})})]})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(A.Zp,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-xl hover:shadow-2xl transition-all duration-300",children:[(0,r.jsx)(A.aR,{className:"bg-gradient-to-r from-primary/10 to-blue-500/10 rounded-t-lg",children:(0,r.jsxs)(A.ZB,{className:"text-xl font-bold flex items-center gap-2",children:[(0,r.jsx)(j.A,{className:"h-5 w-5 text-primary"}),"Quick Information"]})}),(0,r.jsxs)(A.Wu,{className:"p-6 space-y-5",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,r.jsx)("span",{className:"text-gray-600 font-medium",children:"Type"}),(0,r.jsx)(A.Ex,{className:"bg-primary/10 text-primary border-primary/20",children:n.type.charAt(0).toUpperCase()+n.type.slice(1).replace("_"," ")})]}),n.established_year&&(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,r.jsx)("span",{className:"text-gray-600 font-medium",children:"Established"}),(0,r.jsx)("span",{className:"font-bold text-primary",children:n.established_year})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,r.jsx)("span",{className:"text-gray-600 font-medium",children:"Location"}),(0,r.jsxs)("span",{className:"font-semibold text-right text-gray-800",children:[n.location.city,", ",n.location.state]})]}),n.accreditation&&n.accreditation.length>0&&(0,r.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,r.jsx)("span",{className:"text-gray-600 font-medium block mb-3",children:"Accreditation"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:n.accreditation.map((e,s)=>(0,r.jsx)(A.Ex,{className:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200 transition-colors",children:e},s))})]})]})]}),n.admission_criteria&&(0,r.jsxs)(A.Zp,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-xl hover:shadow-2xl transition-all duration-300",children:[(0,r.jsx)(A.aR,{className:"bg-gradient-to-r from-green-500/10 to-emerald-500/10 rounded-t-lg",children:(0,r.jsxs)(A.ZB,{className:"text-xl font-bold flex items-center gap-2",children:[(0,r.jsx)(v.A,{className:"h-5 w-5 text-green-600"}),"Admission Criteria"]})}),(0,r.jsxs)(A.Wu,{className:"p-6 space-y-4",children:[n.admission_criteria.minimum_marks&&(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-200",children:[(0,r.jsx)("span",{className:"text-gray-700 font-medium",children:"Minimum Marks"}),(0,r.jsx)("span",{className:"font-bold text-green-700 bg-green-100 px-3 py-1 rounded-full",children:n.admission_criteria.minimum_marks})]}),n.admission_criteria.entrance_exam&&(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,r.jsx)("span",{className:"text-gray-700 font-medium",children:"Entrance Exam"}),(0,r.jsx)(A.Ex,{className:"bg-blue-100 text-blue-800 border-blue-200",children:n.admission_criteria.entrance_exam})]}),n.admission_criteria.required_subjects&&(0,r.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:[(0,r.jsx)("span",{className:"text-gray-700 font-medium block mb-2",children:"Required Subjects"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:n.admission_criteria.required_subjects.map((e,s)=>(0,r.jsx)(A.Ex,{variant:"outline",className:"text-xs",children:e},s))})]})]})]}),n.fee_structure&&(0,r.jsxs)(A.Zp,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-xl hover:shadow-2xl transition-all duration-300",children:[(0,r.jsx)(A.aR,{className:"bg-gradient-to-r from-yellow-500/10 to-orange-500/10 rounded-t-lg",children:(0,r.jsxs)(A.ZB,{className:"text-xl font-bold flex items-center gap-2",children:[(0,r.jsx)(_.A,{className:"h-5 w-5 text-yellow-600"}),"Fee Structure"]})}),(0,r.jsxs)(A.Wu,{className:"p-6 space-y-4",children:[n.fee_structure.tuition_fee&&(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[(0,r.jsx)("span",{className:"text-gray-700 font-medium",children:"Tuition Fee"}),(0,r.jsxs)("span",{className:"font-bold text-yellow-700",children:["₹",n.fee_structure.tuition_fee.toLocaleString()]})]}),n.fee_structure.hostel_fee&&(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg border border-orange-200",children:[(0,r.jsx)("span",{className:"text-gray-700 font-medium",children:"Hostel Fee"}),(0,r.jsxs)("span",{className:"font-bold text-orange-700",children:["₹",n.fee_structure.hostel_fee.toLocaleString()]})]}),n.fee_structure.total_fee&&(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-primary/10 to-blue-500/10 rounded-lg border-2 border-primary/20",children:[(0,r.jsx)("span",{className:"text-gray-900 font-bold text-lg",children:"Total Fee"}),(0,r.jsxs)("span",{className:"font-bold text-2xl text-primary",children:["₹",n.fee_structure.total_fee.toLocaleString()]})]})]})]}),(0,r.jsxs)(A.Zp,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-xl hover:shadow-2xl transition-all duration-300",children:[(0,r.jsx)(A.aR,{className:"bg-gradient-to-r from-purple-500/10 to-pink-500/10 rounded-t-lg",children:(0,r.jsxs)(A.ZB,{className:"text-xl font-bold flex items-center gap-2",children:[(0,r.jsx)(g.A,{className:"h-5 w-5 text-purple-600"}),"Contact Information"]})}),(0,r.jsxs)(A.Wu,{className:"p-6 space-y-4",children:[(0,r.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)(u.A,{className:"h-5 w-5 text-gray-500 mt-1 flex-shrink-0"}),(0,r.jsx)("span",{className:"text-gray-700 font-medium",children:n.address})]})}),n.phone&&(0,r.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(g.A,{className:"h-5 w-5 text-blue-600"}),(0,r.jsx)("a",{href:"tel:".concat(n.phone),className:"text-blue-700 font-medium hover:text-blue-800 transition-colors",children:n.phone})]})}),n.email&&(0,r.jsx)("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(p.A,{className:"h-5 w-5 text-green-600"}),(0,r.jsx)("a",{href:"mailto:".concat(n.email),className:"text-green-700 font-medium hover:text-green-800 transition-colors",children:n.email})]})}),n.website&&(0,r.jsx)("div",{className:"p-3 bg-purple-50 rounded-lg border border-purple-200",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(b.A,{className:"h-5 w-5 text-purple-600"}),(0,r.jsxs)("a",{href:n.website,target:"_blank",rel:"noopener noreferrer",className:"text-purple-700 font-medium hover:text-purple-800 transition-colors flex items-center gap-2",children:["Visit Website",(0,r.jsx)(f.A,{className:"h-4 w-4"})]})]})})]})]}),(0,r.jsx)(A.Zp,{className:"bg-gradient-to-br from-primary via-blue-600 to-purple-700 text-white border-0 shadow-2xl hover:shadow-3xl transition-all duration-300 transform hover:scale-105",children:(0,r.jsxs)(A.Wu,{className:"p-8 text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(o.A,{className:"h-8 w-8 text-white"})}),(0,r.jsx)("h3",{className:"font-bold text-2xl mb-3",children:"Apply to this college"}),(0,r.jsx)("p",{className:"text-white/90 text-base mb-6 leading-relaxed",children:"Submit your application with required documents and take the next step in your educational journey"}),B&&"student"===z?(0,r.jsxs)(A.$n,{size:"lg",className:"w-full bg-white text-primary hover:bg-gray-50 font-bold text-lg py-6 shadow-lg hover:shadow-xl transition-all duration-300",onClick:()=>L(!0),children:[(0,r.jsx)(k.A,{className:"h-5 w-5 mr-2"}),"Apply Now"]}):B&&"student"!==z?(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-white/90 text-sm mb-4",children:"Only students can apply to colleges"}),(0,r.jsx)(A.$n,{size:"lg",className:"w-full bg-white text-primary hover:bg-gray-50 font-bold text-lg py-6 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:(0,r.jsx)(i(),{href:"/dashboard",children:"Go to Dashboard"})})]}):(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-white/90 text-sm mb-4",children:"Please log in to apply"}),(0,r.jsx)(A.$n,{size:"lg",className:"w-full bg-white text-primary hover:bg-gray-50 font-bold text-lg py-6 shadow-lg hover:shadow-xl transition-all duration-300",asChild:!0,children:(0,r.jsx)(i(),{href:"/auth/login",children:"Login to Apply"})})]})]})})]})]})}),T&&n&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:(0,r.jsx)(q,{collegeId:n.id,collegeName:n.name,onSuccess:()=>{L(!1),alert("Application submitted successfully!")},onCancel:()=>L(!1)})})})]}))}},84153:(e,s,t)=>{Promise.resolve().then(t.bind(t,42846))}},e=>{e.O(0,[8096,6332,7061,6867,5523,8441,7358],()=>e(e.s=84153)),_N_E=e.O()}]);