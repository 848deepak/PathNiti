(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1763],{3253:(e,t,r)=>{"use strict";r.d(t,{default:()=>x});var s=r(95155),a=r(12115),i=r(20063),l=r(3998),n=r(65142),o=r(76444),d=r(31120),c=r(11186),u=r(86948),m=r(18332),h=r(11647),g=r(23128);let p={name:"",type:"",location:{city:"",state:""},address:"",website:"",phone:"",email:"",established_year:"",accreditation:[],about:"",admission_criteria:null,scholarships:[],entrance_tests:[],fee_structure:null};function x(e){let{onSuccess:t,onCancel:r,source:x="direct",returnTo:f,minimal:v=!1}=e,b=(0,i.useRouter)(),y=(0,i.useSearchParams)(),[j,w]=(0,a.useState)(p),[N,S]=(0,a.useState)(!1),[C,D]=(0,a.useState)(null),[I,A]=(0,a.useState)(null),[k,E]=(0,a.useState)(1),[F,R]=(0,a.useState)(""),T=v?2:4,_="signup"===x,P={source:(null==y?void 0:y.get("source"))||x,returnTo:(null==y?void 0:y.get("returnTo"))||f,sessionId:null==y?void 0:y.get("sessionId"),userId:null==y?void 0:y.get("userId")};(0,a.useEffect)(()=>{_&&g.$.setStep("college-registration")},[_]);let L=(e,t)=>{w(r=>({...r,[e]:t})),D(null)},O=(e,t)=>{w(r=>({...r,location:{...r.location,[e]:t}})),D(null)},U=()=>{F.trim()&&!j.accreditation.includes(F.trim())&&(w(e=>({...e,accreditation:[...e.accreditation,F.trim()]})),R(""))},$=e=>{if(v)switch(e){case 1:return!!(j.name&&j.type&&j.location.city&&j.location.state);case 2:return!0;default:return!1}switch(e){case 1:return!!(j.name&&j.type&&j.location.city&&j.location.state&&j.address);case 2:case 3:case 4:return!0;default:return!1}},J=async e=>{if(e.preventDefault(),!$(1)){D("Please fill in all required fields"),E(1);return}S(!0),D(null);try{let e={...j,established_year:j.established_year?parseInt(j.established_year):null,email:j.email||void 0,website:j.website||void 0,phone:j.phone||void 0,about:j.about||void 0,accreditation:j.accreditation.length>0?j.accreditation:void 0,source:P.source,minimal:v},r=await fetch("/api/colleges/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await r.json();if(!r.ok)throw Error(s.details||s.error||"Failed to register college");A(_?"College registered successfully! Returning to signup...":"College registered successfully!"),t?t(s.college):_?await q(s.college):setTimeout(()=>{b.push("/colleges/".concat(s.college.slug||s.college.id))},2e3)}catch(t){console.error("Registration error:",t);let e=t instanceof Error?t.message:"Failed to register college";D(e),_&&M(e)}finally{S(!1)}},q=async e=>{try{let t=g.$.getFormData();t&&g.$.saveFormData({...t,collegeId:e.id,collegeName:e.name,isNewCollege:!0,registrationSource:"new"},"account-creation");let r=P.returnTo||"/auth/signup/college",s=new URL(r,window.location.origin);s.searchParams.set("success","true"),s.searchParams.set("collegeId",e.id),s.searchParams.set("collegeName",e.name),s.searchParams.set("step","account-creation"),P.sessionId&&s.searchParams.set("sessionId",P.sessionId),setTimeout(()=>{window.location.href=s.toString()},2e3)}catch(t){console.error("Error handling signup flow return:",t);let e=P.returnTo||"/auth/signup/college";setTimeout(()=>{window.location.href=e},2e3)}},M=e=>{console.error("Signup flow registration error:",e)},z=()=>(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Review Your Information"}),(0,s.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"College Name:"})," ",j.name]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Type:"})," ",j.type]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Location:"})," ",j.location.city,","," ",j.location.state]}),j.address&&(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Address:"})," ",j.address]}),j.website&&(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Website:"})," ",j.website]}),j.phone&&(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Phone:"})," ",j.phone]}),j.email&&(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Email:"})," ",j.email]}),j.established_year&&(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Established:"})," ",j.established_year]}),j.accreditation.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Accreditations:"})," ",j.accreditation.join(", ")]})]}),(0,s.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg",children:(0,s.jsx)("p",{className:"text-sm text-blue-800",children:_?"After registration, you'll be redirected back to complete your account creation.":"After registration, you'll be able to manage your college profile, add courses, post notices, and handle student applications from your dashboard."})})]});return I?(0,s.jsx)(u.Zp,{className:"w-full max-w-2xl mx-auto",children:(0,s.jsxs)(u.Wu,{className:"pt-6",children:[(0,s.jsx)(m.Alert,{className:"border-green-200 bg-green-50",children:(0,s.jsx)(m.AlertDescription,{className:"text-green-800",children:I})}),(0,s.jsx)("div",{className:"mt-4 text-center",children:(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Redirecting to your college profile..."})})]})}):(0,s.jsxs)(u.Zp,{className:"w-full max-w-2xl mx-auto",children:[(0,s.jsxs)(u.aR,{children:[(0,s.jsx)(u.ZB,{children:v?"Quick College Registration":"Register Your College"}),(0,s.jsxs)(u.BT,{children:["Step ",k," of ",T,":"," ",v?"Quick setup for signup":"Create your college profile",_&&(0,s.jsx)("span",{className:"block mt-1 text-blue-600",children:"You'll be redirected back to complete your account after registration"})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(k/T*100,"%")}})})]}),(0,s.jsx)(u.Wu,{children:(0,s.jsxs)("form",{onSubmit:J,className:"space-y-6",role:"form",children:[C&&(0,s.jsx)(m.Alert,{className:"border-red-200 bg-red-50",children:(0,s.jsxs)(m.AlertDescription,{className:"text-red-800",children:[C,_&&(0,s.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,s.jsx)("p",{className:"text-sm text-red-700",children:"You can fix the issue above and try again, or return to signup to select an existing college."}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(l.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{let e=new URL(P.returnTo||"/auth/signup/college",window.location.origin);e.searchParams.set("error","true"),e.searchParams.set("errorMessage",C||"College registration failed"),e.searchParams.set("source","registration-error"),window.location.href=e.toString()},children:"Return to Signup"}),(0,s.jsx)(l.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>{D(null),E(1)},children:"Try Again"})]})]})]})}),(()=>{if(v)switch(k){case 1:return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg mb-4",children:(0,s.jsx)("p",{className:"text-sm text-blue-800",children:"Quick registration for signup flow. You can add more details later from your dashboard."})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o.Label,{htmlFor:"name",children:"College Name *"}),(0,s.jsx)(n.p,{id:"name",value:j.name,onChange:e=>L("name",e.target.value),placeholder:"Enter college name",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o.Label,{htmlFor:"type",children:"College Type *"}),(0,s.jsxs)(c.Select,{value:j.type,onValueChange:e=>L("type",e),children:[(0,s.jsx)(c.SelectTrigger,{children:(0,s.jsx)(c.SelectValue,{placeholder:"Select college type"})}),(0,s.jsxs)(c.SelectContent,{children:[(0,s.jsx)(c.SelectItem,{value:"government",children:"Government"}),(0,s.jsx)(c.SelectItem,{value:"government_aided",children:"Government Aided"}),(0,s.jsx)(c.SelectItem,{value:"private",children:"Private"}),(0,s.jsx)(c.SelectItem,{value:"deemed",children:"Deemed University"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(o.Label,{htmlFor:"city",children:"City *"}),(0,s.jsx)(n.p,{id:"city",value:j.location.city,onChange:e=>O("city",e.target.value),placeholder:"Enter city",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o.Label,{htmlFor:"state",children:"State *"}),(0,s.jsx)(n.p,{id:"state",value:j.location.state,onChange:e=>O("state",e.target.value),placeholder:"Enter state",required:!0})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o.Label,{htmlFor:"address",children:"Address (Optional)"}),(0,s.jsx)(d.T,{id:"address",value:j.address,onChange:e=>L("address",e.target.value),placeholder:"Enter address (can be added later)",rows:2})]})]});case 2:return z();default:return null}switch(k){case 1:return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(o.Label,{htmlFor:"name",children:"College Name *"}),(0,s.jsx)(n.p,{id:"name",value:j.name,onChange:e=>L("name",e.target.value),placeholder:"Enter college name",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o.Label,{htmlFor:"type",children:"College Type *"}),(0,s.jsxs)(c.Select,{value:j.type,onValueChange:e=>L("type",e),children:[(0,s.jsx)(c.SelectTrigger,{children:(0,s.jsx)(c.SelectValue,{placeholder:"Select college type"})}),(0,s.jsxs)(c.SelectContent,{children:[(0,s.jsx)(c.SelectItem,{value:"government",children:"Government"}),(0,s.jsx)(c.SelectItem,{value:"government_aided",children:"Government Aided"}),(0,s.jsx)(c.SelectItem,{value:"private",children:"Private"}),(0,s.jsx)(c.SelectItem,{value:"deemed",children:"Deemed University"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(o.Label,{htmlFor:"city",children:"City *"}),(0,s.jsx)(n.p,{id:"city",value:j.location.city,onChange:e=>O("city",e.target.value),placeholder:"Enter city",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o.Label,{htmlFor:"state",children:"State *"}),(0,s.jsx)(n.p,{id:"state",value:j.location.state,onChange:e=>O("state",e.target.value),placeholder:"Enter state",required:!0})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(o.Label,{htmlFor:"address",children:["Full Address ",!v&&"*"]}),(0,s.jsx)(d.T,{id:"address",value:j.address,onChange:e=>L("address",e.target.value),placeholder:"Enter complete address",required:!v})]})]});case 2:return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(o.Label,{htmlFor:"website",children:"Website"}),(0,s.jsx)(n.p,{id:"website",type:"url",value:j.website,onChange:e=>L("website",e.target.value),placeholder:"https://www.example.com"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o.Label,{htmlFor:"phone",children:"Phone"}),(0,s.jsx)(n.p,{id:"phone",value:j.phone,onChange:e=>L("phone",e.target.value),placeholder:"Enter phone number"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(o.Label,{htmlFor:"email",children:"Email"}),(0,s.jsx)(n.p,{id:"email",type:"email",value:j.email,onChange:e=>L("email",e.target.value),placeholder:"Enter email address"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o.Label,{htmlFor:"established_year",children:"Established Year"}),(0,s.jsx)(n.p,{id:"established_year",type:"number",min:"1800",max:new Date().getFullYear(),value:j.established_year,onChange:e=>L("established_year",e.target.value),placeholder:"Enter year"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o.Label,{htmlFor:"about",children:"About College"}),(0,s.jsx)(d.T,{id:"about",value:j.about,onChange:e=>L("about",e.target.value),placeholder:"Describe your college...",rows:4})]})]});case 3:return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(o.Label,{children:"Accreditations"}),(0,s.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,s.jsx)(n.p,{value:F,onChange:e=>R(e.target.value),placeholder:"Enter accreditation (e.g., NAAC A+)",onKeyDown:e=>"Enter"===e.key&&(e.preventDefault(),U())}),(0,s.jsx)(l.$,{type:"button",onClick:U,variant:"outline",children:"Add"})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:j.accreditation.map((e,t)=>(0,s.jsxs)(h.E,{variant:"secondary",className:"cursor-pointer",onClick:()=>{w(e=>({...e,accreditation:e.accreditation.filter((e,r)=>r!==t)}))},children:[e," \xd7"]},t))})]}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:(0,s.jsx)("p",{children:"Additional details like admission criteria, scholarships, entrance tests, and fee structure can be added later from your college dashboard."})})]});case 4:return z();default:return null}})(),(0,s.jsxs)("div",{className:"flex justify-between pt-4",children:[(0,s.jsx)("div",{children:k>1&&(0,s.jsx)(l.$,{type:"button",variant:"outline",onClick:()=>{E(e=>Math.max(e-1,1)),D(null)},children:"Previous"})}),(0,s.jsxs)("div",{className:"flex gap-2",children:[r&&(0,s.jsx)(l.$,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),k<T?(0,s.jsx)(l.$,{type:"button",onClick:()=>{$(k)?(E(e=>Math.min(e+1,T)),D(null)):D("Please fill in all required fields before proceeding")},children:"Next"}):(0,s.jsx)(l.$,{type:"submit",disabled:N,children:N?"Registering...":"Register College"})]})]})]})})]})}},3998:(e,t,r)=>{"use strict";r.d(t,{$:()=>o});var s=r(12115),a=r(32467),i=r(83101),l=r(64269);let n=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-95",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm hover:shadow-md",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm hover:shadow-md",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground shadow-sm hover:shadow-md",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm hover:shadow-md",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",gradient:"bg-gradient-to-r from-primary to-blue-600 text-white hover:from-blue-600 hover:to-primary shadow-lg hover:shadow-xl"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3 text-xs",lg:"h-12 rounded-lg px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,t)=>{let{className:r,variant:i,size:o,asChild:d=!1,...c}=e,u=d?a.DX:"button";return s.createElement(u,{className:(0,l.cn)(n({variant:i,size:o,className:r})),ref:t,...c})});o.displayName="Button"},7269:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,52619,23)),Promise.resolve().then(r.bind(r,3253))},11186:(e,t,r)=>{"use strict";r.d(t,{Select:()=>c,SelectContent:()=>x,SelectGroup:()=>u,SelectItem:()=>v,SelectLabel:()=>f,SelectScrollDownButton:()=>p,SelectScrollUpButton:()=>g,SelectSeparator:()=>b,SelectTrigger:()=>h,SelectValue:()=>m});var s=r(95155),a=r(12115),i=r(85824),l=r(24033),n=r(12108),o=r(5917),d=r(64269);let c=i.bL,u=i.YJ,m=i.WT,h=a.forwardRef((e,t)=>{let{className:r,children:a,...n}=e;return(0,s.jsxs)(i.l9,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...n,children:[a,(0,s.jsx)(i.In,{asChild:!0,children:(0,s.jsx)(l.A,{className:"h-4 w-4 opacity-50"})})]})});h.displayName=i.l9.displayName;let g=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})});g.displayName=i.PP.displayName;let p=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})});p.displayName=i.wn.displayName;let x=a.forwardRef((e,t)=>{let{className:r,children:a,position:l="popper",...n}=e;return(0,s.jsx)(i.ZL,{children:(0,s.jsxs)(i.UC,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:l,...n,children:[(0,s.jsx)(g,{}),(0,s.jsx)(i.LM,{className:(0,d.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,s.jsx)(p,{})]})})});x.displayName=i.UC.displayName;let f=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.JU,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...a})});f.displayName=i.JU.displayName;let v=a.forwardRef((e,t)=>{let{className:r,children:a,...l}=e;return(0,s.jsxs)(i.q7,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(i.VF,{children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})}),(0,s.jsx)(i.p4,{children:a})]})});v.displayName=i.q7.displayName;let b=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",r),...a})});b.displayName=i.wv.displayName},11647:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});var s=r(95155);r(12115);var a=r(83101),i=r(64269);let l=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800 hover:bg-green-200",warning:"border-transparent bg-yellow-100 text-yellow-800 hover:bg-yellow-200",info:"border-transparent bg-blue-100 text-blue-800 hover:bg-blue-200"}},defaultVariants:{variant:"default"}});function n(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)(l({variant:r}),t),...a})}},18332:(e,t,r)=>{"use strict";r.d(t,{Alert:()=>o,AlertDescription:()=>c,AlertTitle:()=>d});var s=r(95155),a=r(12115),i=r(83101),l=r(64269);let n=(0,i.F)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=a.forwardRef((e,t)=>{let{className:r,variant:a,...i}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,l.cn)(n({variant:a}),r),...i})});o.displayName="Alert";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h5",{ref:t,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",r),...a})});d.displayName="AlertTitle";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",r),...a})});c.displayName="AlertDescription"},23128:(e,t,r)=>{"use strict";r.d(t,{$:()=>a});class s{saveFormData(e,t){try{let r=Date.now(),s=r+60*this.expirationMinutes*1e3,a=this.getSession(),i={formData:a?{...a.formData,...e}:e,timestamp:r,step:t||(null==a?void 0:a.step)||"college-selection",expiresAt:s},l=this.sanitizeSessionData(i);sessionStorage.setItem(this.storageKey,JSON.stringify(l))}catch(e){console.error("Failed to save form data to session:",e)}}getFormData(){let e=this.getSession();return(null==e?void 0:e.formData)||null}getSession(){try{let e=sessionStorage.getItem(this.storageKey);if(!e)return null;let t=JSON.parse(e);if(this.isSessionExpired(t))return this.clearSession(),null;return t}catch(e){return console.error("Failed to retrieve session data:",e),this.clearSession(),null}}clearSession(){try{sessionStorage.removeItem(this.storageKey)}catch(e){console.error("Failed to clear session data:",e)}}setStep(e){let t=this.getSession();if(t){t.step=e,t.timestamp=Date.now();try{sessionStorage.setItem(this.storageKey,JSON.stringify(t))}catch(e){console.error("Failed to update session step:",e)}}}getStep(){let e=this.getSession();return(null==e?void 0:e.step)||null}hasValidSession(){let e=this.getSession();return null!==e&&!this.isSessionExpired(e)}getTimeUntilExpiration(){let e=this.getSession();if(!e)return 0;let t=Date.now();return Math.floor(Math.max(0,e.expiresAt-t)/6e4)}extendSession(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,t=this.getSession();if(t){t.expiresAt=Date.now()+60*e*1e3,t.timestamp=Date.now();try{sessionStorage.setItem(this.storageKey,JSON.stringify(t))}catch(e){console.error("Failed to extend session:",e)}}}isSessionExpiringSoon(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=this.getTimeUntilExpiration();return t>0&&t<=e}startCleanupInterval(){this.cleanupInterval=setInterval(()=>{this.performCleanup()},3e5)}stopCleanupInterval(){this.cleanupInterval&&(clearInterval(this.cleanupInterval),this.cleanupInterval=null)}performCleanup(){try{if(!this.getSession())return;for(let e of["college_signup_session","student_signup_session","admin_signup_session"])try{let t=sessionStorage.getItem(e);if(t){let r=JSON.parse(t);r.expiresAt&&Date.now()>r.expiresAt&&sessionStorage.removeItem(e)}}catch(t){sessionStorage.removeItem(e)}}catch(e){console.error("Error during session cleanup:",e)}}validateSessionData(e){try{if(!e.formData||!e.timestamp||!e.expiresAt||"number"!=typeof e.timestamp||e.timestamp<=0||"number"!=typeof e.expiresAt||e.expiresAt<=0||e.timestamp>Date.now()+6e4||"object"!=typeof e.formData)return!1;return!0}catch(e){return!1}}getRecoveryInfo(){let e=this.getSession();if(!e)return{hasRecoverableData:!1,sessionAge:0,timeUntilExpiration:0,isExpiringSoon:!1,dataFields:[]};let t=Math.floor((Date.now()-e.timestamp)/6e4),r=this.getTimeUntilExpiration(),s=this.isSessionExpiringSoon(),a=Object.entries(e.formData).filter(e=>{let[,t]=e;return t&&""!==t.toString().trim()}).map(e=>{let[t]=e;return t});return{hasRecoverableData:a.length>0,sessionAge:t,timeUntilExpiration:r,isExpiringSoon:s,dataFields:a}}createBackup(){let e=this.getSession();if(!e)return null;try{let t={...e,backupTimestamp:Date.now()};return JSON.stringify(t)}catch(e){return console.error("Failed to create session backup:",e),null}}restoreFromBackup(e){try{let t=JSON.parse(e);if(!t.formData||!t.timestamp)throw Error("Invalid backup format");let r={formData:t.formData,timestamp:Date.now(),step:t.step||"college-selection",expiresAt:Date.now()+60*this.expirationMinutes*1e3},s=this.sanitizeSessionData(r);return sessionStorage.setItem(this.storageKey,JSON.stringify(s)),!0}catch(e){return console.error("Failed to restore from backup:",e),!1}}isSessionExpired(e){return Date.now()>e.expiresAt}sanitizeSessionData(e){let t={...e};return t.formData.password&&(t.formData={...t.formData},delete t.formData.password),t.formData.confirmPassword&&(t.formData={...t.formData},delete t.formData.confirmPassword),t}constructor(e={}){this.cleanupInterval=null,this.storageKey=e.storageKey||"college_signup_session",this.expirationMinutes=e.expirationMinutes||30,this.startCleanupInterval()}}let a=new s},31120:(e,t,r)=>{"use strict";r.d(t,{T:()=>l});var s=r(95155),a=r(12115),i=r(64269);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...a})});l.displayName="Textarea"},64269:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var s=r(2821),a=r(75889);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},65142:(e,t,r)=>{"use strict";r.d(t,{p:()=>l});var s=r(95155),a=r(12115),i=r(64269);let l=a.forwardRef((e,t)=>{let{className:r,type:a,...l}=e;return(0,s.jsx)("input",{type:a,className:(0,i.cn)("flex h-11 w-full rounded-lg border border-input bg-background px-4 py-3 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200 hover:border-ring/50 focus:border-ring",r),ref:t,...l})});l.displayName="Input"},76444:(e,t,r)=>{"use strict";r.d(t,{Label:()=>d});var s=r(95155),a=r(12115),i=r(10489),l=r(83101),n=r(64269);let o=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.b,{ref:t,className:(0,n.cn)(o(),r),...a})});d.displayName=i.b.displayName},86948:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>l,aR:()=>n});var s=r(95155),a=r(12115),i=r(64269);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow-sm hover:shadow-md transition-all duration-200",r),...a})});l.displayName="Card";let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6 pb-4",r),...a})});n.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});o.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-2",r),...a})});c.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"}},e=>{e.O(0,[8096,8441,7358],()=>e(e.s=7269)),_N_E=e.O()}]);