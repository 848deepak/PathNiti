(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8258],{4587:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var a=s(95155),i=s(12115);s(85506),s(54351);var r=s(47061);s(74979),s(6253),s(48732),s(65306),s(51997),s(74277);var l=s(3998),n=s(86948),c=s(80991),o=s(50909),d=s(76444),m=s(11186),u=s(1473),x=s(83457),h=s(91169),p=s(47937),g=s(21873),y=s(42529),j=s(26983),f=s(39324),v=s(20063);let b={aptitude:{title:"Aptitude Assessment",description:"Test your logical reasoning, quantitative skills, and cognitive abilities",icon:u.A,color:"text-blue-600"},riasec:{title:"Interest Assessment (RIASEC)",description:"Discover your career interests and preferences",icon:x.A,color:"text-red-600"},personality:{title:"Personality Assessment",description:"Understand your personality traits and work style",icon:h.A,color:"text-green-600"},subjects:{title:"Subject Performance",description:"Evaluate your performance in key academic subjects",icon:p.A,color:"text-purple-600"},constraints:{title:"Practical Constraints",description:"Tell us about your location, finances, and family expectations",icon:g.A,color:"text-orange-600"}},_={aptitude:[{id:"apt_001",text:"If A is to the right of B, and C is to the left of B, then what is the arrangement?",type:"aptitude",category:"logical_reasoning",options:["C-B-A","A-B-C","B-A-C","C-A-B"],correctAnswer:0,timeLimit:60,weight:1},{id:"apt_002",text:"What is 15% of 240?",type:"aptitude",category:"quantitative_skills",options:["36","32","40","38"],correctAnswer:0,timeLimit:45,weight:1},{id:"apt_003",text:'Choose the word that is most similar to "OCEAN": ',type:"aptitude",category:"language_verbal_skills",options:["Lake","Sea","River","Pond"],correctAnswer:1,timeLimit:30,weight:1}],riasec:[{id:"ria_001",text:"I enjoy working with tools and machinery",type:"riasec_interest",category:"realistic",options:["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],timeLimit:30,weight:1},{id:"ria_002",text:"I like to analyze data and solve complex problems",type:"riasec_interest",category:"investigative",options:["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],timeLimit:30,weight:1},{id:"ria_003",text:"I enjoy creative activities like drawing, writing, or music",type:"riasec_interest",category:"artistic",options:["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"],timeLimit:30,weight:1}],personality:[{id:"per_001",text:"I prefer to work alone rather than in groups",type:"personality",category:"introvert_extrovert",options:["Strongly Agree","Agree","Neutral","Disagree","Strongly Disagree"],timeLimit:30,weight:1},{id:"per_002",text:"I am willing to take risks for potentially high rewards",type:"personality",category:"risk_taking_vs_risk_averse",options:["Never","Rarely","Sometimes","Often","Always"],timeLimit:30,weight:1}],subjects:[{id:"sub_001",text:"Solve: 2x + 5 = 15. What is x?",type:"subject_performance",category:"math",subcategory:"accuracy",options:["3","5","7","10"],correctAnswer:1,timeLimit:90,weight:1},{id:"sub_002",text:"What is the chemical symbol for Gold?",type:"subject_performance",category:"science",subcategory:"accuracy",options:["Go","Gd","Au","Ag"],correctAnswer:2,timeLimit:30,weight:1}]};function w(){var e,t,s,x,h;let{user:p,loading:w,requireAuth:N}=(0,r.A)(),S=(0,v.useRouter)(),[k,A]=(0,i.useState)("aptitude"),[C,I]=(0,i.useState)(0),[L,O]=(0,i.useState)({}),[E,P]=(0,i.useState)({}),[R,B]=(0,i.useState)({}),[D,q]=(0,i.useState)(!1),[F,T]=(0,i.useState)(Date.now()),[M,G]=(0,i.useState)(Date.now()),[V,Z]=(0,i.useState)({}),[W,$]=(0,i.useState)(!0),[Q,U]=(0,i.useState)(null),[z,H]=(0,i.useState)({location:"",financial_background:"",parental_expectation:""}),J=(0,i.useCallback)(async()=>{try{$(!0),U(null);let e={};for(let t of["aptitude","riasec_interest","personality","subject_performance"]){let s=await fetch("/api/questions?type=".concat(t,"&limit=10"));if(s.ok){let a=await s.json();e[t]=a.questions}else console.error("Failed to fetch ".concat(t," questions")),e[t]=_[t]||[]}Z(e)}catch(e){console.error("Error fetching questions:",e),U("Failed to load questions. Using sample questions."),Z(_)}finally{$(!1)}},[]);(0,i.useEffect)(()=>{J()},[J]),(0,i.useEffect)(()=>{let e=setInterval(()=>{G(Date.now())},10);return()=>clearInterval(e)},[]);let X=V[k]||_[k]||[],K=X[C],Y=Object.keys(b).length,ee=Object.keys(R).filter(e=>100===R[e]).length/Y*100,et=(0,i.useCallback)((e,t)=>{let s=(M-F)/1e3;O(s=>({...s,[e]:t})),P(t=>({...t,[e]:s}))},[F,M]),es=(0,i.useCallback)(()=>{if(C<X.length-1)I(e=>e+1),T(Date.now());else{B(e=>({...e,[k]:100}));let e=Object.keys(b),t=e.indexOf(k);t<e.length-1&&(A(e[t+1]),I(0),T(Date.now()))}},[C,X.length,k]),ea=(0,i.useCallback)(()=>{let e={logical_reasoning:0,quantitative_skills:0,language_verbal_skills:0,spatial_visual_skills:0,memory_attention:0},t={realistic:0,investigative:0,artistic:0,social:0,enterprising:0,conventional:0},s={introvert_extrovert:0,risk_taking_vs_risk_averse:0,structured_vs_flexible:0,leadership_vs_supportive:0},a={math:{accuracy:0,speed:0},science:{accuracy:0,speed:0},social_science:{accuracy:0,speed:0},english:{accuracy:0,speed:0},general_knowledge:{accuracy:0,speed:0}};Object.entries(L).forEach(i=>{let[r,l]=i,n=Object.values(V).flat().find(e=>e.id===r);if(!n)return;let c=l/(n.options.length-1);switch(n.type){case"aptitude":n.category in e&&(e[n.category]+=c);break;case"riasec_interest":n.category in t&&(t[n.category]+=c);break;case"personality":n.category in s&&(s[n.category]+=c);break;case"subject_performance":if(n.category in a){let e=n.category;if("accuracy"===n.subcategory)a[e].accuracy=c;else if("speed"===n.subcategory){let t=E[r]||n.timeLimit;a[e].speed=Math.max(0,1-t/n.timeLimit)}}}});let i={},r={},l={};return Object.entries(L).forEach(e=>{let[t,s]=e,a=Object.values(V).flat().find(e=>e.id===t);if(a)switch(a.type){case"aptitude":i[a.category]=(i[a.category]||0)+1;break;case"riasec_interest":r[a.category]=(r[a.category]||0)+1;break;case"personality":l[a.category]=(l[a.category]||0)+1}}),Object.keys(e).forEach(t=>{let s=i[t]||1;e[t]=Math.round(e[t]/s*100)}),Object.keys(t).forEach(e=>{let s=r[e]||1;t[e]=Math.round(t[e]/s*100)}),Object.keys(s).forEach(e=>{let t=l[e]||1;s[e]=Math.round(s[e]/t*100)}),{aptitude_scores:e,riasec_scores:t,personality_scores:s,subject_performance:a,practical_constraints:z}},[L,E,z,V]),ei=(0,i.useCallback)(async()=>{if(p){q(!0);try{let e=ea(),t=Object.entries(L).map(e=>{let[t,s]=e,a=Object.values(V).flat().find(e=>e.id===t);return{question_id:t,selected_answer:s,time_taken:E[t]||0,question_type:(null==a?void 0:a.type)||"unknown",category:(null==a?void 0:a.category)||"unknown"}}),s=await fetch("/api/assessment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:p.id,assessment_data:e,responses:t})});if(s.ok){let e=await s.json();S.push("/assessment-results?session_id=".concat(e.session_id))}else console.error("Assessment submission failed"),alert("Failed to submit assessment. Please try again.")}catch(e){console.error("Error submitting assessment:",e),alert("An error occurred. Please try again.")}finally{q(!1)}}},[p,ea,L,E,S,V]);if(w||W)return(0,a.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:w?"Loading assessment...":"Loading questions..."})]})});if(N(),Q)return(0,a.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-yellow-600 mb-4",children:(0,a.jsx)(u.A,{className:"h-12 w-12 mx-auto"})}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:Q}),(0,a.jsx)(l.$,{onClick:J,children:"Retry Loading Questions"})]})});if("constraints"===k)return(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Comprehensive Career Assessment"}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Section ",Y," of ",Y]})]}),(0,a.jsx)(c.k,{value:ee,className:"w-full"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:[Math.round(ee),"% Complete"]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"h-5 w-5 text-orange-600"}),"Practical Constraints"]}),(0,a.jsx)(n.BT,{children:"Help us understand your practical considerations for career planning"})]}),(0,a.jsxs)(n.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Label,{htmlFor:"location",children:"Preferred Location for Studies/Career"}),(0,a.jsxs)(m.Select,{value:z.location,onValueChange:e=>H(t=>({...t,location:e})),children:[(0,a.jsx)(m.SelectTrigger,{children:(0,a.jsx)(m.SelectValue,{placeholder:"Select your preferred location"})}),(0,a.jsxs)(m.SelectContent,{children:[(0,a.jsx)(m.SelectItem,{value:"home_state",children:"Same state as home"}),(0,a.jsx)(m.SelectItem,{value:"anywhere_india",children:"Anywhere in India"}),(0,a.jsx)(m.SelectItem,{value:"metro_cities",children:"Metro cities only"}),(0,a.jsx)(m.SelectItem,{value:"tier2_cities",children:"Tier 2 cities"}),(0,a.jsx)(m.SelectItem,{value:"abroad",children:"Open to studying abroad"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Label,{htmlFor:"financial",children:"Family Financial Background"}),(0,a.jsxs)(m.Select,{value:z.financial_background,onValueChange:e=>H(t=>({...t,financial_background:e})),children:[(0,a.jsx)(m.SelectTrigger,{children:(0,a.jsx)(m.SelectValue,{placeholder:"Select financial background"})}),(0,a.jsxs)(m.SelectContent,{children:[(0,a.jsx)(m.SelectItem,{value:"low",children:"Low income (< 3 LPA)"}),(0,a.jsx)(m.SelectItem,{value:"middle",children:"Middle income (3-8 LPA)"}),(0,a.jsx)(m.SelectItem,{value:"upper_middle",children:"Upper middle (8-20 LPA)"}),(0,a.jsx)(m.SelectItem,{value:"high",children:"High income (> 20 LPA)"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Label,{htmlFor:"parental",children:"Primary Parental/Family Expectation"}),(0,a.jsxs)(m.Select,{value:z.parental_expectation,onValueChange:e=>H(t=>({...t,parental_expectation:e})),children:[(0,a.jsx)(m.SelectTrigger,{children:(0,a.jsx)(m.SelectValue,{placeholder:"Select family expectation"})}),(0,a.jsxs)(m.SelectContent,{children:[(0,a.jsx)(m.SelectItem,{value:"doctor",children:"Become a doctor"}),(0,a.jsx)(m.SelectItem,{value:"engineer",children:"Become an engineer"}),(0,a.jsx)(m.SelectItem,{value:"government_job",children:"Secure government job"}),(0,a.jsx)(m.SelectItem,{value:"business",children:"Start own business"}),(0,a.jsx)(m.SelectItem,{value:"stable_career",children:"Any stable, well-paying career"}),(0,a.jsx)(m.SelectItem,{value:"follow_passion",children:"Follow your passion"}),(0,a.jsx)(m.SelectItem,{value:"no_pressure",children:"No specific expectation"})]})]})]}),(0,a.jsx)("div",{className:"pt-6",children:(0,a.jsx)(l.$,{onClick:ei,className:"w-full",size:"lg",disabled:D||!z.location||!z.financial_background||!z.parental_expectation,children:D?"Generating Recommendations...":"Submit Assessment & Get Recommendations"})})]})]})]});if(!K)return(0,a.jsx)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"text-center py-12",children:[(0,a.jsx)(y.A,{className:"h-16 w-16 text-green-600 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Section Completed!"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Moving to the next section..."})]})})});let er=(null==(e=b[k])?void 0:e.icon)||u.A,el=(null==(t=b[k])?void 0:t.color)||"text-gray-600";return(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Comprehensive Career Assessment"}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Question ",C+1," of ",X.length]})]}),(0,a.jsx)(c.k,{value:ee,className:"w-full"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:[Math.round(ee),"% Complete"]})]}),(0,a.jsx)(n.Zp,{className:"mb-6",children:(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(er,{className:"h-5 w-5 ".concat(el)}),null==(s=b[k])?void 0:s.title]}),(0,a.jsx)(n.BT,{children:null==(x=b[k])?void 0:x.description})]})}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(n.ZB,{className:"text-lg",children:K.text}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(j.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["Limit: ",K.timeLimit,"s"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(f.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["Elapsed: ",((M-F)/1e3).toFixed(1),"s"]})]})]})]})}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)(o.RadioGroup,{value:(null==(h=L[K.id])?void 0:h.toString())||"",onValueChange:e=>et(K.id,parseInt(e)),className:"space-y-3",children:K.options.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(o.RadioGroupItem,{value:t.toString(),id:"option-".concat(t)}),(0,a.jsx)(d.Label,{htmlFor:"option-".concat(t),className:"cursor-pointer flex-1",children:e})]},t))}),(0,a.jsxs)("div",{className:"mt-8 flex justify-between",children:[(0,a.jsx)(l.$,{variant:"outline",onClick:()=>{C>0&&I(e=>e-1)},disabled:0===C,children:"Previous"}),(0,a.jsx)(l.$,{onClick:es,disabled:null===L[K.id]||void 0===L[K.id],children:C===X.length-1?"Complete Section":"Next Question"})]})]})]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-2",children:Object.entries(b).map(e=>{let[t,s]=e,i=s.icon,r=100===R[t],l=t===k;return(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border min-w-fit ".concat(l?"border-blue-500 bg-blue-50":r?"border-green-500 bg-green-50":"border-gray-200 bg-gray-50"),children:[(0,a.jsx)(i,{className:"h-4 w-4 ".concat(l?"text-blue-600":r?"text-green-600":"text-gray-400")}),(0,a.jsx)("span",{className:"text-sm font-medium ".concat(l?"text-blue-900":r?"text-green-900":"text-gray-600"),children:s.title}),r&&(0,a.jsx)(y.A,{className:"h-4 w-4 text-green-600"})]},t)})})})]})}},73262:(e,t,s)=>{Promise.resolve().then(s.bind(s,4587))},80991:(e,t,s)=>{"use strict";s.d(t,{k:()=>l});var a=s(12115),i=s(9484),r=s(64269);let l=a.forwardRef((e,t)=>{let{className:s,value:l,...n}=e;return a.createElement(i.Root,{ref:t,className:(0,r.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...n},a.createElement(i.Indicator,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(l||0),"%)")}}))});l.displayName=i.Root.displayName}},e=>{e.O(0,[8096,6332,7061,6867,8441,7358],()=>e(e.s=73262)),_N_E=e.O()}]);