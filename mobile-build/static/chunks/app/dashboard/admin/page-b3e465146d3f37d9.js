(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1833],{90821:(e,s,a)=>{Promise.resolve().then(a.bind(a,92696))},92696:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>b});var t=a(95155),l=a(12115),i=a(65523),n=a(47061),c=a(17910),r=a(35626),d=a(15870),m=a(91169),x=a(35299),o=a(6132),h=a(71871),j=a(47937),u=a(50906),f=a(1473),N=a(30814),p=a(56154),v=a(80534),g=a(52619),y=a.n(g);function b(){var e,s,a,g,b,w,A,R,C,M,I,E,Z,S,B;let{loading:P,requireAuth:k,requireRole:F}=(0,n.A)(),[T,W]=(0,l.useState)(null),[z,L]=(0,l.useState)(!0),[$,D]=(0,l.useState)(null);return((0,l.useEffect)(()=>{(async()=>{try{await k(),await F("admin")}catch(e){console.error("Authentication check failed:",e)}})()},[k,F]),(0,l.useEffect)(()=>{(async()=>{try{L(!0),D(null);let e=await fetch("/api/admin/analytics");if(!e.ok)throw Error("Failed to fetch analytics data");let s=await e.json();if(s.success)W(s.data);else throw Error(s.error||"Failed to fetch analytics")}catch(e){console.error("Error fetching analytics:",e),D(e instanceof Error?e.message:"Failed to fetch analytics")}finally{L(!1)}})()},[]),P)?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(c.A,{className:"h-12 w-12 text-primary animate-pulse mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading admin dashboard..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50",children:[(0,t.jsx)("div",{className:"bg-white border-b shadow-sm",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)(y(),{href:"/",className:"flex items-center text-gray-600 hover:text-primary transition-colors",children:[(0,t.jsx)(r.A,{className:"h-5 w-5 mr-2"}),"Back to Main Site"]}),(0,t.jsx)("div",{className:"h-6 w-px bg-gray-300"}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Analytics Dashboard"})]}),(0,t.jsx)(i.$n,{variant:"outline",asChild:!0,children:(0,t.jsxs)(y(),{href:"/admin",children:[(0,t.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Full Admin Panel"]})})]})})}),(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)(i.Zp,{className:"bg-gradient-to-r from-slate-700 to-slate-900 text-white",children:(0,t.jsx)(i.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Admin Dashboard"}),(0,t.jsx)("p",{className:"text-slate-200",children:"Monitor platform metrics, user analytics, and system performance."})]}),(0,t.jsx)(c.A,{className:"h-16 w-16 text-slate-300"})]})})})}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(i.ZB,{className:"text-sm font-medium",children:"Total Users"}),(0,t.jsx)(m.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsx)(i.Wu,{children:z?(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(x.A,{className:"h-4 w-4 animate-spin"}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Loading..."})]}):$?(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(o.A,{className:"h-4 w-4 text-red-500"}),(0,t.jsx)("span",{className:"text-sm text-red-500",children:"Error"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:(null==T?void 0:T.totalUsers)||0}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["+",(null==T?void 0:T.userGrowthRate)||0,"% from last month"]})]})})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(i.ZB,{className:"text-sm font-medium",children:"Active Colleges"}),(0,t.jsx)(h.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsx)(i.Wu,{children:z?(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(x.A,{className:"h-4 w-4 animate-spin"}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Loading..."})]}):$?(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(o.A,{className:"h-4 w-4 text-red-500"}),(0,t.jsx)("span",{className:"text-sm text-red-500",children:"Error"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:(null==T?void 0:T.totalColleges)||0}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(null==T?void 0:T.verifiedColleges)||0," verified,"," ",(null==T?void 0:T.newCollegesThisWeek)||0," new this week"]})]})})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(i.ZB,{className:"text-sm font-medium",children:"Quiz Completions"}),(0,t.jsx)(j.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsx)(i.Wu,{children:z?(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(x.A,{className:"h-4 w-4 animate-spin"}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Loading..."})]}):$?(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(o.A,{className:"h-4 w-4 text-red-500"}),(0,t.jsx)("span",{className:"text-sm text-red-500",children:"Error"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:(null==T?void 0:T.completedAssessments)||0}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Avg score: ",(null==T?void 0:T.averageScore)||0,"%"]})]})})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(i.ZB,{className:"text-sm font-medium",children:"AI Interactions"}),(0,t.jsx)(u.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsx)(i.Wu,{children:z?(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(x.A,{className:"h-4 w-4 animate-spin"}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Loading..."})]}):$?(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(o.A,{className:"h-4 w-4 text-red-500"}),(0,t.jsx)("span",{className:"text-sm text-red-500",children:"Error"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:(null==T?void 0:T.totalAiInteractions)||0}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(null==T?void 0:T.aiInteractionsToday)||0," today"]})]})})]})]}),(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)(i.Zp,{className:"border-blue-200 bg-gradient-to-r from-blue-50 to-purple-50",children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center text-blue-900",children:[(0,t.jsx)(f.A,{className:"h-6 w-6 mr-2"}),"Sarthi AI Performance Dashboard"]}),(0,t.jsx)(i.BT,{className:"text-blue-700",children:"Monitor AI recommendation accuracy, usage patterns, and user satisfaction for the enhanced career guidance system."})]}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h4",{className:"font-semibold text-blue-900 flex items-center",children:[(0,t.jsx)(N.A,{className:"h-4 w-4 mr-2"}),"Recommendation Accuracy"]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"Stream Predictions"}),(0,t.jsx)("span",{className:"font-medium text-green-600",children:z?"...":"".concat((null==T||null==(e=T.aiAccuracy)?void 0:e.streamPredictions)||0,"%")})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"Career Matching"}),(0,t.jsx)("span",{className:"font-medium text-green-600",children:z?"...":"".concat((null==T||null==(s=T.aiAccuracy)?void 0:s.careerMatching)||0,"%")})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"ROI Predictions"}),(0,t.jsx)("span",{className:"font-medium text-blue-600",children:z?"...":"".concat((null==T||null==(a=T.aiAccuracy)?void 0:a.roiPredictions)||0,"%")})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"Parent Satisfaction"}),(0,t.jsx)("span",{className:"font-medium text-green-600",children:z?"...":"".concat((null==T||null==(g=T.aiAccuracy)?void 0:g.parentSatisfaction)||0,"%")})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h4",{className:"font-semibold text-blue-900 flex items-center",children:[(0,t.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Sarthi AI Usage"]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"Daily Recommendations"}),(0,t.jsx)("span",{className:"font-medium",children:z?"...":(null==T?void 0:T.aiInteractionsToday)||0})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"Total Interactions"}),(0,t.jsx)("span",{className:"font-medium",children:z?"...":(null==T?void 0:T.totalAiInteractions)||0})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"Quiz Completions"}),(0,t.jsx)("span",{className:"font-medium",children:z?"...":(null==T?void 0:T.completedAssessments)||0})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"API Success Rate"}),(0,t.jsx)("span",{className:"font-medium text-green-600",children:"99.2%"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h4",{className:"font-semibold text-blue-900 flex items-center",children:[(0,t.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"J&K Insights"]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"Local College Matches"}),(0,t.jsx)("span",{className:"font-medium",children:z?"...":"".concat((null==T||null==(b=T.regionalInsights)?void 0:b.localCollegeMatches)||0,"%")})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"Scholarship Eligibility"}),(0,t.jsx)("span",{className:"font-medium text-green-600",children:z?"...":"".concat((null==T||null==(w=T.regionalInsights)?void 0:w.scholarshipEligibility)||0,"%")})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"Govt. Job Preferences"}),(0,t.jsx)("span",{className:"font-medium",children:z?"...":"".concat((null==T||null==(A=T.regionalInsights)?void 0:A.govtJobPreferences)||0,"%")})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"Fast Earning Concerns"}),(0,t.jsx)("span",{className:"font-medium text-orange-600",children:z?"...":"".concat((null==T||null==(R=T.regionalInsights)?void 0:R.fastEarningConcerns)||0,"%")})]})]})]})]}),(0,t.jsx)("div",{className:"mt-6 pt-6 border-t border-blue-200",children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,t.jsxs)(i.$n,{variant:"outline",size:"sm",children:[(0,t.jsx)(v.A,{className:"h-4 w-4 mr-2"}),"View Detailed Analytics"]}),(0,t.jsxs)(i.$n,{variant:"outline",size:"sm",children:[(0,t.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Adjust AI Parameters"]}),(0,t.jsxs)(i.$n,{variant:"outline",size:"sm",children:[(0,t.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"Export Reports"]}),(0,t.jsxs)(i.$n,{variant:"outline",size:"sm",children:[(0,t.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"AI Training Logs"]})]})})]})]})}),(0,t.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6 mb-8",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center",children:[(0,t.jsx)(v.A,{className:"h-5 w-5 mr-2"}),"Platform Usage Analytics"]}),(0,t.jsx)(i.BT,{children:"Key metrics and trends over time"})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"User Registration Rate"}),(0,t.jsx)("span",{className:"text-sm text-green-600",children:z?"...":"+".concat((null==T||null==(C=T.platformMetrics)?void 0:C.userRegistrationRate)||0,"%")})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"".concat(Math.min((null==T||null==(M=T.platformMetrics)?void 0:M.userRegistrationRate)||0,100),"%")}})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Quiz Completion Rate"}),(0,t.jsx)("span",{className:"text-sm text-blue-600",children:z?"...":"".concat((null==T||null==(I=T.platformMetrics)?void 0:I.quizCompletionRate)||0,"%")})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(Math.min((null==T||null==(E=T.platformMetrics)?void 0:E.quizCompletionRate)||0,100),"%")}})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"College Verification Rate"}),(0,t.jsx)("span",{className:"text-sm text-purple-600",children:z?"...":"".concat((null==T||null==(Z=T.platformMetrics)?void 0:Z.collegeVerificationRate)||0,"%")})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:"".concat(Math.min((null==T||null==(S=T.platformMetrics)?void 0:S.collegeVerificationRate)||0,100),"%")}})})]})]})})]})}),(0,t.jsx)("div",{children:(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Quick Management"}),(0,t.jsx)(i.BT,{children:"Direct access to admin functions"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-3",children:[(0,t.jsx)(i.$n,{className:"w-full justify-start",variant:"outline",asChild:!0,children:(0,t.jsxs)(y(),{href:"/admin",children:[(0,t.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Manage Users"]})}),(0,t.jsx)(i.$n,{className:"w-full justify-start",variant:"outline",asChild:!0,children:(0,t.jsxs)(y(),{href:"/admin",children:[(0,t.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Manage Colleges"]})}),(0,t.jsx)(i.$n,{className:"w-full justify-start",variant:"outline",asChild:!0,children:(0,t.jsxs)(y(),{href:"/admin",children:[(0,t.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"Content Management"]})}),(0,t.jsx)(i.$n,{className:"w-full justify-start",variant:"outline",asChild:!0,children:(0,t.jsxs)(y(),{href:"/admin",children:[(0,t.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"System Settings"]})})]})]})})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Recent Admin Activity"}),(0,t.jsx)(i.BT,{children:"Latest administrative actions and system events"})]}),(0,t.jsx)(i.Wu,{children:z?(0,t.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,t.jsx)(x.A,{className:"h-6 w-6 animate-spin mr-2"}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Loading activity..."})]}):$?(0,t.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,t.jsx)(o.A,{className:"h-6 w-6 text-red-500 mr-2"}),(0,t.jsx)("span",{className:"text-sm text-red-500",children:"Failed to load activity"})]}):(0,t.jsx)("div",{className:"space-y-4",children:(null==T||null==(B=T.recentActivity)?void 0:B.length)?T.recentActivity.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.action.includes("college")?"bg-green-600":e.action.includes("user")?"bg-blue-600":e.action.includes("content")?"bg-purple-600":"bg-orange-600")}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:e.description}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.timeAgo})]})]},s)):(0,t.jsxs)("div",{className:"text-center py-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"No recent admin activity"}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Admin actions will appear here"})]})})})]})]})]})}}},e=>{e.O(0,[8096,6332,7061,6867,5523,8441,7358],()=>e(e.s=90821)),_N_E=e.O()}]);